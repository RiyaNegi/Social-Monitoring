{"ast":null,"code":"import React, { PureComponent, useState, useCallback, useMemo } from 'react';\nimport isFunction from 'lodash/isFunction';\nimport { useTheme } from '@nivo/core';\nimport PropTypes from 'prop-types';\nimport isNumber from 'lodash/isNumber';\nimport isPlainObject from 'lodash/isPlainObject';\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nvar DIRECTION_ROW = 'row';\nvar DIRECTION_COLUMN = 'column';\nvar ANCHOR_TOP = 'top';\nvar ANCHOR_TOP_RIGHT = 'top-right';\nvar ANCHOR_RIGHT = 'right';\nvar ANCHOR_BOTTOM_RIGHT = 'bottom-right';\nvar ANCHOR_BOTTOM = 'bottom';\nvar ANCHOR_BOTTOM_LEFT = 'bottom-left';\nvar ANCHOR_LEFT = 'left';\nvar ANCHOR_TOP_LEFT = 'top-left';\nvar ANCHOR_CENTER = 'center';\nvar DIRECTION_LEFT_TO_RIGHT = 'left-to-right';\nvar DIRECTION_RIGHT_TO_LEFT = 'right-to-left';\nvar DIRECTION_TOP_TO_BOTTOM = 'top-to-bottom';\nvar DIRECTION_BOTTOM_TO_TOP = 'bottom-to-top';\nvar legendEffectPropType = PropTypes.shape({\n  on: PropTypes.oneOfType([PropTypes.oneOf(['hover'])]).isRequired,\n  style: PropTypes.shape({\n    itemTextColor: PropTypes.string,\n    itemBackground: PropTypes.string,\n    itemOpacity: PropTypes.number,\n    symbolSize: PropTypes.number,\n    symbolBorderWidth: PropTypes.number,\n    symbolBorderColor: PropTypes.string\n  }).isRequired\n});\nvar symbolPropTypes = {\n  symbolShape: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  symbolSize: PropTypes.number,\n  symbolSpacing: PropTypes.number,\n  symbolBorderWidth: PropTypes.number,\n  symbolBorderColor: PropTypes.string\n};\nvar interactivityPropTypes = {\n  onClick: PropTypes.func,\n  onMouseEnter: PropTypes.func,\n  onMouseLeave: PropTypes.func\n};\nvar datumPropType = PropTypes.shape({\n  id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  label: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  color: PropTypes.string.isRequired,\n  fill: PropTypes.string\n});\n\nvar LegendPropShape = _objectSpread2(_objectSpread2(_objectSpread2({\n  data: PropTypes.arrayOf(datumPropType),\n  anchor: PropTypes.oneOf([ANCHOR_TOP, ANCHOR_TOP_RIGHT, ANCHOR_RIGHT, ANCHOR_BOTTOM_RIGHT, ANCHOR_BOTTOM, ANCHOR_BOTTOM_LEFT, ANCHOR_LEFT, ANCHOR_TOP_LEFT, ANCHOR_CENTER]).isRequired,\n  translateX: PropTypes.number,\n  translateY: PropTypes.number,\n  direction: PropTypes.oneOf([DIRECTION_ROW, DIRECTION_COLUMN]).isRequired,\n  itemsSpacing: PropTypes.number,\n  itemWidth: PropTypes.number.isRequired,\n  itemHeight: PropTypes.number.isRequired,\n  itemDirection: PropTypes.oneOf([DIRECTION_LEFT_TO_RIGHT, DIRECTION_RIGHT_TO_LEFT, DIRECTION_TOP_TO_BOTTOM, DIRECTION_BOTTOM_TO_TOP]),\n  itemTextColor: PropTypes.string,\n  itemBackground: PropTypes.string,\n  itemOpacity: PropTypes.number\n}, symbolPropTypes), interactivityPropTypes), {}, {\n  effects: PropTypes.arrayOf(legendEffectPropType)\n});\n\nvar zeroPadding = {\n  top: 0,\n  right: 0,\n  bottom: 0,\n  left: 0\n};\n\nvar computeDimensions = function computeDimensions(_ref) {\n  var direction = _ref.direction,\n      itemsSpacing = _ref.itemsSpacing,\n      _padding = _ref.padding,\n      itemCount = _ref.itemCount,\n      itemWidth = _ref.itemWidth,\n      itemHeight = _ref.itemHeight;\n  var padding;\n\n  if (isNumber(_padding)) {\n    padding = {\n      top: _padding,\n      right: _padding,\n      bottom: _padding,\n      left: _padding\n    };\n  } else if (isPlainObject(_padding)) {\n    padding = _objectSpread2(_objectSpread2({}, zeroPadding), _padding);\n  } else {\n    throw new TypeError(\"Invalid property padding, must be one of: number, object\");\n  }\n\n  var horizontalPadding = padding.left + padding.right;\n  var verticalPadding = padding.top + padding.bottom;\n  var width = itemWidth + horizontalPadding;\n  var height = itemHeight + verticalPadding;\n  var spacing = (itemCount - 1) * itemsSpacing;\n\n  if (direction === DIRECTION_ROW) {\n    width = itemWidth * itemCount + spacing + horizontalPadding;\n  } else if (direction === DIRECTION_COLUMN) {\n    height = itemHeight * itemCount + spacing + verticalPadding;\n  }\n\n  return {\n    width: width,\n    height: height,\n    padding: padding\n  };\n};\n\nvar computePositionFromAnchor = function computePositionFromAnchor(_ref2) {\n  var anchor = _ref2.anchor,\n      translateX = _ref2.translateX,\n      translateY = _ref2.translateY,\n      containerWidth = _ref2.containerWidth,\n      containerHeight = _ref2.containerHeight,\n      width = _ref2.width,\n      height = _ref2.height;\n  var x = translateX;\n  var y = translateY;\n\n  switch (anchor) {\n    case ANCHOR_TOP:\n      x += (containerWidth - width) / 2;\n      break;\n\n    case ANCHOR_TOP_RIGHT:\n      x += containerWidth - width;\n      break;\n\n    case ANCHOR_RIGHT:\n      x += containerWidth - width;\n      y += (containerHeight - height) / 2;\n      break;\n\n    case ANCHOR_BOTTOM_RIGHT:\n      x += containerWidth - width;\n      y += containerHeight - height;\n      break;\n\n    case ANCHOR_BOTTOM:\n      x += (containerWidth - width) / 2;\n      y += containerHeight - height;\n      break;\n\n    case ANCHOR_BOTTOM_LEFT:\n      y += containerHeight - height;\n      break;\n\n    case ANCHOR_LEFT:\n      y += (containerHeight - height) / 2;\n      break;\n\n    case ANCHOR_CENTER:\n      x += (containerWidth - width) / 2;\n      y += (containerHeight - height) / 2;\n      break;\n  }\n\n  return {\n    x: x,\n    y: y\n  };\n};\n\nvar computeItemLayout = function computeItemLayout(_ref3) {\n  var direction = _ref3.direction,\n      justify = _ref3.justify,\n      symbolSize = _ref3.symbolSize,\n      symbolSpacing = _ref3.symbolSpacing,\n      width = _ref3.width,\n      height = _ref3.height;\n  var symbolX;\n  var symbolY;\n  var labelX;\n  var labelY;\n  var labelAnchor;\n  var labelAlignment;\n\n  switch (direction) {\n    case DIRECTION_LEFT_TO_RIGHT:\n      symbolX = 0;\n      symbolY = (height - symbolSize) / 2;\n      labelY = height / 2;\n      labelAlignment = 'central';\n\n      if (justify === true) {\n        labelX = width;\n        labelAnchor = 'end';\n      } else {\n        labelX = symbolSize + symbolSpacing;\n        labelAnchor = 'start';\n      }\n\n      break;\n\n    case DIRECTION_RIGHT_TO_LEFT:\n      symbolX = width - symbolSize;\n      symbolY = (height - symbolSize) / 2;\n      labelY = height / 2;\n      labelAlignment = 'central';\n\n      if (justify === true) {\n        labelX = 0;\n        labelAnchor = 'start';\n      } else {\n        labelX = width - symbolSize - symbolSpacing;\n        labelAnchor = 'end';\n      }\n\n      break;\n\n    case DIRECTION_TOP_TO_BOTTOM:\n      symbolX = (width - symbolSize) / 2;\n      symbolY = 0;\n      labelX = width / 2;\n      labelAnchor = 'middle';\n\n      if (justify === true) {\n        labelY = height;\n        labelAlignment = 'alphabetic';\n      } else {\n        labelY = symbolSize + symbolSpacing;\n        labelAlignment = 'text-before-edge';\n      }\n\n      break;\n\n    case DIRECTION_BOTTOM_TO_TOP:\n      symbolX = (width - symbolSize) / 2;\n      symbolY = height - symbolSize;\n      labelX = width / 2;\n      labelAnchor = 'middle';\n\n      if (justify === true) {\n        labelY = 0;\n        labelAlignment = 'text-before-edge';\n      } else {\n        labelY = height - symbolSize - symbolSpacing;\n        labelAlignment = 'alphabetic';\n      }\n\n      break;\n  }\n\n  return {\n    symbolX: symbolX,\n    symbolY: symbolY,\n    labelX: labelX,\n    labelY: labelY,\n    labelAnchor: labelAnchor,\n    labelAlignment: labelAlignment\n  };\n};\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _createSuper(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nvar symbolPropTypes$1 = {\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  size: PropTypes.number.isRequired,\n  fill: PropTypes.string.isRequired,\n  borderWidth: PropTypes.number.isRequired,\n  borderColor: PropTypes.string.isRequired\n};\nvar symbolDefaultProps = {\n  borderWidth: 0,\n  borderColor: 'transparent'\n};\n\nvar SymbolCircle = function (_PureComponent) {\n  _inherits(SymbolCircle, _PureComponent);\n\n  var _super = _createSuper(SymbolCircle);\n\n  function SymbolCircle() {\n    _classCallCheck(this, SymbolCircle);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(SymbolCircle, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          x = _this$props.x,\n          y = _this$props.y,\n          size = _this$props.size,\n          fill = _this$props.fill,\n          borderWidth = _this$props.borderWidth,\n          borderColor = _this$props.borderColor;\n      return React.createElement(\"circle\", {\n        r: size / 2,\n        cx: x + size / 2,\n        cy: y + size / 2,\n        fill: fill,\n        strokeWidth: borderWidth,\n        stroke: borderColor,\n        style: {\n          pointerEvents: 'none'\n        }\n      });\n    }\n  }]);\n\n  return SymbolCircle;\n}(PureComponent);\n\nSymbolCircle.defaultProps = _objectSpread2({}, symbolDefaultProps);\n\nvar SymbolDiamond = function (_PureComponent) {\n  _inherits(SymbolDiamond, _PureComponent);\n\n  var _super = _createSuper(SymbolDiamond);\n\n  function SymbolDiamond() {\n    _classCallCheck(this, SymbolDiamond);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(SymbolDiamond, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          x = _this$props.x,\n          y = _this$props.y,\n          size = _this$props.size,\n          fill = _this$props.fill,\n          borderWidth = _this$props.borderWidth,\n          borderColor = _this$props.borderColor;\n      return React.createElement(\"g\", {\n        transform: \"translate(\".concat(x, \",\").concat(y, \")\")\n      }, React.createElement(\"path\", {\n        d: \"\\n                    M\".concat(size / 2, \" 0\\n                    L\").concat(size * 0.8, \" \").concat(size / 2, \"\\n                    L\").concat(size / 2, \" \").concat(size, \"\\n                    L\").concat(size * 0.2, \" \").concat(size / 2, \"\\n                    L\").concat(size / 2, \" 0\\n                \"),\n        fill: fill,\n        strokeWidth: borderWidth,\n        stroke: borderColor,\n        style: {\n          pointerEvents: 'none'\n        }\n      }));\n    }\n  }]);\n\n  return SymbolDiamond;\n}(PureComponent);\n\nSymbolDiamond.defaultProps = _objectSpread2({}, symbolDefaultProps);\n\nvar SymbolSquare = function (_PureComponent) {\n  _inherits(SymbolSquare, _PureComponent);\n\n  var _super = _createSuper(SymbolSquare);\n\n  function SymbolSquare() {\n    _classCallCheck(this, SymbolSquare);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(SymbolSquare, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          x = _this$props.x,\n          y = _this$props.y,\n          size = _this$props.size,\n          fill = _this$props.fill,\n          borderWidth = _this$props.borderWidth,\n          borderColor = _this$props.borderColor;\n      return React.createElement(\"rect\", {\n        x: x,\n        y: y,\n        fill: fill,\n        strokeWidth: borderWidth,\n        stroke: borderColor,\n        width: size,\n        height: size,\n        style: {\n          pointerEvents: 'none'\n        }\n      });\n    }\n  }]);\n\n  return SymbolSquare;\n}(PureComponent);\n\nSymbolSquare.defaultProps = _objectSpread2({}, symbolDefaultProps);\n\nvar SymbolTriangle = function (_PureComponent) {\n  _inherits(SymbolTriangle, _PureComponent);\n\n  var _super = _createSuper(SymbolTriangle);\n\n  function SymbolTriangle() {\n    _classCallCheck(this, SymbolTriangle);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(SymbolTriangle, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          x = _this$props.x,\n          y = _this$props.y,\n          size = _this$props.size,\n          fill = _this$props.fill,\n          borderWidth = _this$props.borderWidth,\n          borderColor = _this$props.borderColor;\n      return React.createElement(\"g\", {\n        transform: \"translate(\".concat(x, \",\").concat(y, \")\")\n      }, React.createElement(\"path\", {\n        d: \"\\n                M\".concat(size / 2, \" 0\\n                L\").concat(size, \" \").concat(size, \"\\n                L0 \").concat(size, \"\\n                L\").concat(size / 2, \" 0\\n            \"),\n        fill: fill,\n        strokeWidth: borderWidth,\n        stroke: borderColor,\n        style: {\n          pointerEvents: 'none'\n        }\n      }));\n    }\n  }]);\n\n  return SymbolTriangle;\n}(PureComponent);\n\nSymbolTriangle.defaultProps = _objectSpread2({}, symbolDefaultProps);\nvar symbolByShape = {\n  circle: SymbolCircle,\n  diamond: SymbolDiamond,\n  square: SymbolSquare,\n  triangle: SymbolTriangle\n};\n\nvar LegendSvgItem = function LegendSvgItem(_ref) {\n  var x = _ref.x,\n      y = _ref.y,\n      width = _ref.width,\n      height = _ref.height,\n      data = _ref.data,\n      direction = _ref.direction,\n      justify = _ref.justify,\n      textColor = _ref.textColor,\n      background = _ref.background,\n      opacity = _ref.opacity,\n      symbolShape = _ref.symbolShape,\n      symbolSize = _ref.symbolSize,\n      symbolSpacing = _ref.symbolSpacing,\n      symbolBorderWidth = _ref.symbolBorderWidth,\n      symbolBorderColor = _ref.symbolBorderColor,\n      onClick = _ref.onClick,\n      onMouseEnter = _ref.onMouseEnter,\n      onMouseLeave = _ref.onMouseLeave,\n      effects = _ref.effects;\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      style = _useState2[0],\n      setStyle = _useState2[1];\n\n  var theme = useTheme();\n  var handleClick = useCallback(function (event) {\n    return onClick && onClick(data, event);\n  }, [onClick, data]);\n  var handleMouseEnter = useCallback(function (event) {\n    if (effects.length > 0) {\n      var applyEffects = effects.filter(function (_ref2) {\n        var on = _ref2.on;\n        return on === 'hover';\n      });\n\n      var _style = applyEffects.reduce(function (acc, effect) {\n        return _objectSpread2(_objectSpread2({}, acc), effect.style);\n      }, {});\n\n      setStyle(_style);\n    }\n\n    if (onMouseEnter === undefined) return;\n    onMouseEnter(data, event);\n  }, [onMouseEnter, data, effects]);\n  var handleMouseLeave = useCallback(function (event) {\n    if (effects.length > 0) {\n      var applyEffects = effects.filter(function (_ref3) {\n        var on = _ref3.on;\n        return on !== 'hover';\n      });\n\n      var _style2 = applyEffects.reduce(function (acc, effect) {\n        return _objectSpread2(_objectSpread2({}, acc), effect.style);\n      }, {});\n\n      setStyle(_style2);\n    }\n\n    if (onMouseLeave === undefined) return;\n    onMouseLeave(data, event);\n  }, [onMouseLeave, data, effects]);\n\n  var _computeItemLayout = computeItemLayout({\n    direction: direction,\n    justify: justify,\n    symbolSize: style.symbolSize || symbolSize,\n    symbolSpacing: symbolSpacing,\n    width: width,\n    height: height\n  }),\n      symbolX = _computeItemLayout.symbolX,\n      symbolY = _computeItemLayout.symbolY,\n      labelX = _computeItemLayout.labelX,\n      labelY = _computeItemLayout.labelY,\n      labelAnchor = _computeItemLayout.labelAnchor,\n      labelAlignment = _computeItemLayout.labelAlignment;\n\n  var isInteractive = [onClick, onMouseEnter, onMouseLeave].some(function (handler) {\n    return handler !== undefined;\n  });\n  var Symbol;\n\n  if (isFunction(symbolShape)) {\n    Symbol = symbolShape;\n  } else {\n    Symbol = symbolByShape[symbolShape];\n  }\n\n  return React.createElement(\"g\", {\n    transform: \"translate(\".concat(x, \",\").concat(y, \")\"),\n    style: {\n      opacity: style.itemOpacity !== undefined ? style.itemOpacity : opacity\n    }\n  }, React.createElement(\"rect\", {\n    width: width,\n    height: height,\n    fill: style.itemBackground || background,\n    style: {\n      cursor: isInteractive ? 'pointer' : 'auto'\n    },\n    onClick: handleClick,\n    onMouseEnter: handleMouseEnter,\n    onMouseLeave: handleMouseLeave\n  }), React.createElement(Symbol, {\n    id: data.id,\n    x: symbolX,\n    y: symbolY,\n    size: style.symbolSize || symbolSize,\n    fill: data.fill || data.color,\n    borderWidth: style.symbolBorderWidth !== undefined ? style.symbolBorderWidth : symbolBorderWidth,\n    borderColor: style.symbolBorderColor || symbolBorderColor\n  }), React.createElement(\"text\", {\n    textAnchor: labelAnchor,\n    style: _objectSpread2(_objectSpread2({}, theme.legends.text), {}, {\n      fill: style.itemTextColor || theme.legends.text.fill || textColor,\n      dominantBaseline: labelAlignment,\n      pointerEvents: 'none',\n      userSelect: 'none'\n    }),\n    x: labelX,\n    y: labelY\n  }, data.label));\n};\n\nLegendSvgItem.displayName = 'LegendSvgItem';\nLegendSvgItem.defaultProps = {\n  direction: 'left-to-right',\n  justify: false,\n  textColor: 'black',\n  background: 'transparent',\n  opacity: 1,\n  symbolShape: 'square',\n  symbolSize: 16,\n  symbolSpacing: 8,\n  symbolBorderWidth: 0,\n  symbolBorderColor: 'transparent',\n  effects: []\n};\n\nvar LegendSvg = function LegendSvg(_ref) {\n  var data = _ref.data,\n      x = _ref.x,\n      y = _ref.y,\n      direction = _ref.direction,\n      _padding = _ref.padding,\n      justify = _ref.justify,\n      effects = _ref.effects,\n      itemWidth = _ref.itemWidth,\n      itemHeight = _ref.itemHeight,\n      itemDirection = _ref.itemDirection,\n      itemsSpacing = _ref.itemsSpacing,\n      itemTextColor = _ref.itemTextColor,\n      itemBackground = _ref.itemBackground,\n      itemOpacity = _ref.itemOpacity,\n      symbolShape = _ref.symbolShape,\n      symbolSize = _ref.symbolSize,\n      symbolSpacing = _ref.symbolSpacing,\n      symbolBorderWidth = _ref.symbolBorderWidth,\n      symbolBorderColor = _ref.symbolBorderColor,\n      onClick = _ref.onClick,\n      onMouseEnter = _ref.onMouseEnter,\n      onMouseLeave = _ref.onMouseLeave;\n\n  var _computeDimensions = computeDimensions({\n    itemCount: data.length,\n    itemWidth: itemWidth,\n    itemHeight: itemHeight,\n    itemsSpacing: itemsSpacing,\n    direction: direction,\n    padding: _padding\n  }),\n      padding = _computeDimensions.padding;\n\n  var xStep = 0;\n  var yStep = 0;\n\n  if (direction === 'row') {\n    xStep = itemWidth + itemsSpacing;\n  } else if (direction === 'column') {\n    yStep = itemHeight + itemsSpacing;\n  }\n\n  return React.createElement(\"g\", {\n    transform: \"translate(\".concat(x, \",\").concat(y, \")\")\n  }, data.map(function (data, i) {\n    return React.createElement(LegendSvgItem, {\n      key: i,\n      data: data,\n      x: i * xStep + padding.left,\n      y: i * yStep + padding.top,\n      width: itemWidth,\n      height: itemHeight,\n      direction: itemDirection,\n      justify: justify,\n      effects: effects,\n      textColor: itemTextColor,\n      background: itemBackground,\n      opacity: itemOpacity,\n      symbolShape: symbolShape,\n      symbolSize: symbolSize,\n      symbolSpacing: symbolSpacing,\n      symbolBorderWidth: symbolBorderWidth,\n      symbolBorderColor: symbolBorderColor,\n      onClick: onClick,\n      onMouseEnter: onMouseEnter,\n      onMouseLeave: onMouseLeave\n    });\n  }));\n};\n\nLegendSvg.defaultProps = {\n  padding: 0,\n  justify: false,\n  itemsSpacing: 0,\n  itemDirection: 'left-to-right',\n  itemTextColor: 'black',\n  itemBackground: 'transparent',\n  itemOpacity: 1\n};\n\nvar BoxLegendSvg = function BoxLegendSvg(_ref) {\n  var data = _ref.data,\n      containerWidth = _ref.containerWidth,\n      containerHeight = _ref.containerHeight,\n      translateX = _ref.translateX,\n      translateY = _ref.translateY,\n      anchor = _ref.anchor,\n      direction = _ref.direction,\n      padding = _ref.padding,\n      justify = _ref.justify,\n      itemsSpacing = _ref.itemsSpacing,\n      itemWidth = _ref.itemWidth,\n      itemHeight = _ref.itemHeight,\n      itemDirection = _ref.itemDirection,\n      itemTextColor = _ref.itemTextColor,\n      itemBackground = _ref.itemBackground,\n      itemOpacity = _ref.itemOpacity,\n      symbolShape = _ref.symbolShape,\n      symbolSize = _ref.symbolSize,\n      symbolSpacing = _ref.symbolSpacing,\n      symbolBorderWidth = _ref.symbolBorderWidth,\n      symbolBorderColor = _ref.symbolBorderColor,\n      onClick = _ref.onClick,\n      onMouseEnter = _ref.onMouseEnter,\n      onMouseLeave = _ref.onMouseLeave,\n      effects = _ref.effects;\n\n  var _computeDimensions = computeDimensions({\n    itemCount: data.length,\n    itemsSpacing: itemsSpacing,\n    itemWidth: itemWidth,\n    itemHeight: itemHeight,\n    direction: direction,\n    padding: padding\n  }),\n      width = _computeDimensions.width,\n      height = _computeDimensions.height;\n\n  var _computePositionFromA = computePositionFromAnchor({\n    anchor: anchor,\n    translateX: translateX,\n    translateY: translateY,\n    containerWidth: containerWidth,\n    containerHeight: containerHeight,\n    width: width,\n    height: height\n  }),\n      x = _computePositionFromA.x,\n      y = _computePositionFromA.y;\n\n  return React.createElement(LegendSvg, {\n    data: data,\n    x: x,\n    y: y,\n    direction: direction,\n    padding: padding,\n    justify: justify,\n    effects: effects,\n    itemsSpacing: itemsSpacing,\n    itemWidth: itemWidth,\n    itemHeight: itemHeight,\n    itemDirection: itemDirection,\n    itemTextColor: itemTextColor,\n    itemBackground: itemBackground,\n    itemOpacity: itemOpacity,\n    symbolShape: symbolShape,\n    symbolSize: symbolSize,\n    symbolSpacing: symbolSpacing,\n    symbolBorderWidth: symbolBorderWidth,\n    symbolBorderColor: symbolBorderColor,\n    onClick: onClick,\n    onMouseEnter: onMouseEnter,\n    onMouseLeave: onMouseLeave\n  });\n};\n\nBoxLegendSvg.defaultProps = {\n  translateX: 0,\n  translateY: 0,\n  itemsSpacing: LegendSvg.defaultProps.itemsSpacing,\n  padding: LegendSvg.defaultProps.padding\n};\nvar textPropsMapping = {\n  align: {\n    start: 'left',\n    middle: 'center',\n    end: 'right'\n  },\n  baseline: {\n    hanging: 'top',\n    middle: 'middle',\n    central: 'middle',\n    baseline: 'bottom'\n  }\n};\n\nvar renderLegendToCanvas = function renderLegendToCanvas(ctx, _ref) {\n  var data = _ref.data,\n      containerWidth = _ref.containerWidth,\n      containerHeight = _ref.containerHeight,\n      _ref$translateX = _ref.translateX,\n      translateX = _ref$translateX === void 0 ? BoxLegendSvg.defaultProps.translateX : _ref$translateX,\n      _ref$translateY = _ref.translateY,\n      translateY = _ref$translateY === void 0 ? BoxLegendSvg.defaultProps.translateY : _ref$translateY,\n      anchor = _ref.anchor,\n      direction = _ref.direction,\n      _ref$padding = _ref.padding,\n      _padding = _ref$padding === void 0 ? LegendSvg.defaultProps.padding : _ref$padding,\n      _ref$justify = _ref.justify,\n      justify = _ref$justify === void 0 ? LegendSvgItem.defaultProps.justify : _ref$justify,\n      _ref$itemsSpacing = _ref.itemsSpacing,\n      itemsSpacing = _ref$itemsSpacing === void 0 ? LegendSvg.defaultProps.itemsSpacing : _ref$itemsSpacing,\n      itemWidth = _ref.itemWidth,\n      itemHeight = _ref.itemHeight,\n      _ref$itemDirection = _ref.itemDirection,\n      itemDirection = _ref$itemDirection === void 0 ? LegendSvgItem.defaultProps.direction : _ref$itemDirection,\n      _ref$itemTextColor = _ref.itemTextColor,\n      itemTextColor = _ref$itemTextColor === void 0 ? LegendSvg.defaultProps.textColor : _ref$itemTextColor,\n      _ref$symbolSize = _ref.symbolSize,\n      symbolSize = _ref$symbolSize === void 0 ? LegendSvgItem.defaultProps.symbolSize : _ref$symbolSize,\n      _ref$symbolSpacing = _ref.symbolSpacing,\n      symbolSpacing = _ref$symbolSpacing === void 0 ? LegendSvgItem.defaultProps.symbolSpacing : _ref$symbolSpacing,\n      theme = _ref.theme;\n\n  var _computeDimensions = computeDimensions({\n    itemCount: data.length,\n    itemWidth: itemWidth,\n    itemHeight: itemHeight,\n    itemsSpacing: itemsSpacing,\n    direction: direction,\n    padding: _padding\n  }),\n      width = _computeDimensions.width,\n      height = _computeDimensions.height,\n      padding = _computeDimensions.padding;\n\n  var _computePositionFromA = computePositionFromAnchor({\n    anchor: anchor,\n    translateX: translateX,\n    translateY: translateY,\n    containerWidth: containerWidth,\n    containerHeight: containerHeight,\n    width: width,\n    height: height\n  }),\n      x = _computePositionFromA.x,\n      y = _computePositionFromA.y;\n\n  var xStep = 0;\n  var yStep = 0;\n\n  if (direction === DIRECTION_ROW) {\n    xStep = itemWidth + itemsSpacing;\n  } else if (direction === DIRECTION_COLUMN) {\n    yStep = itemHeight + itemsSpacing;\n  }\n\n  ctx.save();\n  ctx.translate(x, y);\n  ctx.font = \"\".concat(theme.legends.text.fontSize, \"px \").concat(theme.legends.text.fontFamily || 'sans-serif');\n  data.forEach(function (d, i) {\n    var itemX = i * xStep + padding.left;\n    var itemY = i * yStep + padding.top;\n\n    var _computeItemLayout = computeItemLayout({\n      direction: itemDirection,\n      justify: justify,\n      symbolSize: symbolSize,\n      symbolSpacing: symbolSpacing,\n      width: itemWidth,\n      height: itemHeight\n    }),\n        symbolX = _computeItemLayout.symbolX,\n        symbolY = _computeItemLayout.symbolY,\n        labelX = _computeItemLayout.labelX,\n        labelY = _computeItemLayout.labelY,\n        labelAnchor = _computeItemLayout.labelAnchor,\n        labelAlignment = _computeItemLayout.labelAlignment;\n\n    ctx.fillStyle = d.color;\n    ctx.fillRect(itemX + symbolX, itemY + symbolY, symbolSize, symbolSize);\n    ctx.textAlign = textPropsMapping.align[labelAnchor];\n    ctx.textBaseline = textPropsMapping.baseline[labelAlignment];\n    ctx.fillStyle = itemTextColor || theme.legends.text.fill;\n    ctx.fillText(d.label, itemX + labelX, itemY + labelY);\n  });\n  ctx.restore();\n};\n\nvar useQuantizeColorScaleLegendData = function useQuantizeColorScaleLegendData(_ref) {\n  var scale = _ref.scale,\n      overriddenDomain = _ref.domain,\n      _ref$reverse = _ref.reverse,\n      reverse = _ref$reverse === void 0 ? false : _ref$reverse,\n      _ref$valueFormat = _ref.valueFormat,\n      valueFormat = _ref$valueFormat === void 0 ? function (v) {\n    return v;\n  } : _ref$valueFormat,\n      _ref$separator = _ref.separator,\n      separator = _ref$separator === void 0 ? ' - ' : _ref$separator;\n  return useMemo(function () {\n    var domain = overriddenDomain || scale.range();\n    var items = domain.map(function (domainValue, index) {\n      var _scale$invertExtent = scale.invertExtent(domainValue),\n          _scale$invertExtent2 = _slicedToArray(_scale$invertExtent, 2),\n          start = _scale$invertExtent2[0],\n          end = _scale$invertExtent2[1];\n\n      return {\n        id: domainValue,\n        index: index,\n        extent: [start, end],\n        label: \"\".concat(valueFormat(start)).concat(separator).concat(valueFormat(end)),\n        value: scale(start),\n        color: domainValue\n      };\n    });\n    if (reverse === true) items.reverse();\n    return items;\n  }, [overriddenDomain, scale, reverse]);\n};\n\nexport { ANCHOR_BOTTOM, ANCHOR_BOTTOM_LEFT, ANCHOR_BOTTOM_RIGHT, ANCHOR_CENTER, ANCHOR_LEFT, ANCHOR_RIGHT, ANCHOR_TOP, ANCHOR_TOP_LEFT, ANCHOR_TOP_RIGHT, BoxLegendSvg, DIRECTION_BOTTOM_TO_TOP, DIRECTION_COLUMN, DIRECTION_LEFT_TO_RIGHT, DIRECTION_RIGHT_TO_LEFT, DIRECTION_ROW, DIRECTION_TOP_TO_BOTTOM, LegendPropShape, LegendSvg, LegendSvgItem, datumPropType, interactivityPropTypes, legendEffectPropType, renderLegendToCanvas, symbolPropTypes, useQuantizeColorScaleLegendData };","map":{"version":3,"sources":["../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../src/constants.js","../src/props.js","../src/compute.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/typeof.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js","../src/svg/symbols/props.js","../src/svg/symbols/SymbolCircle.js","../src/svg/symbols/SymbolDiamond.js","../src/svg/symbols/SymbolSquare.js","../src/svg/symbols/SymbolTriangle.js","../src/svg/LegendSvgItem.js","../src/svg/LegendSvg.js","../src/svg/BoxLegendSvg.js","../src/canvas/index.js","../src/hooks.js"],"names":["defineProperty","arrayLikeToArray","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","DIRECTION_ROW","DIRECTION_COLUMN","ANCHOR_TOP","ANCHOR_TOP_RIGHT","ANCHOR_RIGHT","ANCHOR_BOTTOM_RIGHT","ANCHOR_BOTTOM","ANCHOR_BOTTOM_LEFT","ANCHOR_LEFT","ANCHOR_TOP_LEFT","ANCHOR_CENTER","DIRECTION_LEFT_TO_RIGHT","DIRECTION_RIGHT_TO_LEFT","DIRECTION_TOP_TO_BOTTOM","DIRECTION_BOTTOM_TO_TOP","legendEffectPropType","on","PropTypes","style","itemTextColor","itemBackground","itemOpacity","symbolSize","symbolBorderWidth","symbolBorderColor","string","isRequired","symbolPropTypes","symbolShape","symbolSpacing","interactivityPropTypes","onClick","onMouseEnter","onMouseLeave","func","datumPropType","id","label","color","fill","LegendPropShape","data","anchor","translateX","translateY","direction","itemsSpacing","itemWidth","itemHeight","itemDirection","number","effects","zeroPadding","top","right","bottom","left","computeDimensions","padding","_padding","itemCount","isNumber","isPlainObject","horizontalPadding","verticalPadding","width","height","spacing","computePositionFromAnchor","containerWidth","containerHeight","x","y","computeItemLayout","justify","symbolX","symbolY","labelY","labelAlignment","labelX","labelAnchor","setPrototypeOf","assertThisInitialized","getPrototypeOf","isNativeReflectConstruct","possibleConstructorReturn","size","borderWidth","borderColor","symbolDefaultProps","SymbolCircle","PureComponent","defaultProps","pointerEvents","SymbolDiamond","SymbolSquare","SymbolTriangle","symbolByShape","circle","diamond","square","triangle","LegendSvgItem","textColor","background","opacity","setStyle","useState","theme","useTheme","handleClick","useCallback","handleMouseEnter","applyEffects","effect","handleMouseLeave","isInteractive","handler","isFunction","Symbol","cursor","dominantBaseline","userSelect","LegendSvg","xStep","yStep","i","BoxLegendSvg","textPropsMapping","align","start","middle","end","baseline","hanging","central","renderLegendToCanvas","ctx","itemX","itemY","d","useQuantizeColorScaleLegendData","scale","domain","overriddenDomain","reverse","valueFormat","separator","useMemo","items","index","extent","value","domainValue"],"mappings":"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","sourcesContent":["export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphal Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nexport const DIRECTION_ROW = 'row'\nexport const DIRECTION_COLUMN = 'column'\n\nexport const ANCHOR_TOP = 'top'\nexport const ANCHOR_TOP_RIGHT = 'top-right'\nexport const ANCHOR_RIGHT = 'right'\nexport const ANCHOR_BOTTOM_RIGHT = 'bottom-right'\nexport const ANCHOR_BOTTOM = 'bottom'\nexport const ANCHOR_BOTTOM_LEFT = 'bottom-left'\nexport const ANCHOR_LEFT = 'left'\nexport const ANCHOR_TOP_LEFT = 'top-left'\nexport const ANCHOR_CENTER = 'center'\n\nexport const DIRECTION_LEFT_TO_RIGHT = 'left-to-right'\nexport const DIRECTION_RIGHT_TO_LEFT = 'right-to-left'\nexport const DIRECTION_TOP_TO_BOTTOM = 'top-to-bottom'\nexport const DIRECTION_BOTTOM_TO_TOP = 'bottom-to-top'\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphal Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport PropTypes from 'prop-types'\nimport {\n    ANCHOR_BOTTOM,\n    ANCHOR_BOTTOM_LEFT,\n    ANCHOR_BOTTOM_RIGHT,\n    ANCHOR_CENTER,\n    ANCHOR_LEFT,\n    ANCHOR_RIGHT,\n    ANCHOR_TOP,\n    ANCHOR_TOP_LEFT,\n    ANCHOR_TOP_RIGHT,\n    DIRECTION_BOTTOM_TO_TOP,\n    DIRECTION_COLUMN,\n    DIRECTION_LEFT_TO_RIGHT,\n    DIRECTION_RIGHT_TO_LEFT,\n    DIRECTION_ROW,\n    DIRECTION_TOP_TO_BOTTOM,\n} from './constants'\n\n/**\n * This can be used to add effect on legends on interaction.\n */\nexport const legendEffectPropType = PropTypes.shape({\n    on: PropTypes.oneOfType([PropTypes.oneOf(['hover'])]).isRequired,\n    style: PropTypes.shape({\n        itemTextColor: PropTypes.string,\n        itemBackground: PropTypes.string,\n        itemOpacity: PropTypes.number,\n        symbolSize: PropTypes.number,\n        symbolBorderWidth: PropTypes.number,\n        symbolBorderColor: PropTypes.string,\n    }).isRequired,\n})\n\nexport const symbolPropTypes = {\n    symbolShape: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n    symbolSize: PropTypes.number,\n    symbolSpacing: PropTypes.number,\n    symbolBorderWidth: PropTypes.number,\n    symbolBorderColor: PropTypes.string,\n}\n\nexport const interactivityPropTypes = {\n    onClick: PropTypes.func,\n    onMouseEnter: PropTypes.func,\n    onMouseLeave: PropTypes.func,\n}\n\nexport const datumPropType = PropTypes.shape({\n    id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n    label: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n    color: PropTypes.string.isRequired,\n    fill: PropTypes.string,\n})\n\n/**\n * The prop type is exported as a simple object instead of `PropTypes.shape`\n * to be able to add extra properties.\n *\n * @example\n * ```javascript\n * import { LegendPropShape } from '@nivo/legends'\n *\n * const customLegendPropType = PropTypes.shape({\n *     ...LegendPropShape,\n *     extra: PropTypes.any.isRequired,\n * })\n * ```\n */\nexport const LegendPropShape = {\n    data: PropTypes.arrayOf(datumPropType),\n\n    // position & layout\n    anchor: PropTypes.oneOf([\n        ANCHOR_TOP,\n        ANCHOR_TOP_RIGHT,\n        ANCHOR_RIGHT,\n        ANCHOR_BOTTOM_RIGHT,\n        ANCHOR_BOTTOM,\n        ANCHOR_BOTTOM_LEFT,\n        ANCHOR_LEFT,\n        ANCHOR_TOP_LEFT,\n        ANCHOR_CENTER,\n    ]).isRequired,\n    translateX: PropTypes.number,\n    translateY: PropTypes.number,\n    direction: PropTypes.oneOf([DIRECTION_ROW, DIRECTION_COLUMN]).isRequired,\n\n    // item\n    itemsSpacing: PropTypes.number,\n    itemWidth: PropTypes.number.isRequired,\n    itemHeight: PropTypes.number.isRequired,\n    itemDirection: PropTypes.oneOf([\n        DIRECTION_LEFT_TO_RIGHT,\n        DIRECTION_RIGHT_TO_LEFT,\n        DIRECTION_TOP_TO_BOTTOM,\n        DIRECTION_BOTTOM_TO_TOP,\n    ]),\n    itemTextColor: PropTypes.string,\n    itemBackground: PropTypes.string,\n    itemOpacity: PropTypes.number,\n\n    ...symbolPropTypes,\n    ...interactivityPropTypes,\n\n    effects: PropTypes.arrayOf(legendEffectPropType),\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphal Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport isNumber from 'lodash/isNumber'\nimport isPlainObject from 'lodash/isPlainObject'\nimport {\n    ANCHOR_BOTTOM,\n    ANCHOR_BOTTOM_LEFT,\n    ANCHOR_BOTTOM_RIGHT,\n    ANCHOR_CENTER,\n    ANCHOR_LEFT,\n    ANCHOR_RIGHT,\n    ANCHOR_TOP,\n    ANCHOR_TOP_RIGHT,\n    DIRECTION_BOTTOM_TO_TOP,\n    DIRECTION_COLUMN,\n    DIRECTION_LEFT_TO_RIGHT,\n    DIRECTION_RIGHT_TO_LEFT,\n    DIRECTION_ROW,\n    DIRECTION_TOP_TO_BOTTOM,\n} from './constants'\n\nconst zeroPadding = {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n}\n\nexport const computeDimensions = ({\n    direction,\n    itemsSpacing,\n    padding: _padding,\n    itemCount,\n    itemWidth,\n    itemHeight,\n}) => {\n    let padding\n    if (isNumber(_padding)) {\n        padding = {\n            top: _padding,\n            right: _padding,\n            bottom: _padding,\n            left: _padding,\n        }\n    } else if (isPlainObject(_padding)) {\n        padding = {\n            ...zeroPadding,\n            ..._padding,\n        }\n    } else {\n        throw new TypeError(`Invalid property padding, must be one of: number, object`)\n    }\n\n    const horizontalPadding = padding.left + padding.right\n    const verticalPadding = padding.top + padding.bottom\n    let width = itemWidth + horizontalPadding\n    let height = itemHeight + verticalPadding\n    let spacing = (itemCount - 1) * itemsSpacing\n    if (direction === DIRECTION_ROW) {\n        width = itemWidth * itemCount + spacing + horizontalPadding\n    } else if (direction === DIRECTION_COLUMN) {\n        height = itemHeight * itemCount + spacing + verticalPadding\n    }\n\n    return { width, height, padding }\n}\n\nexport const computePositionFromAnchor = ({\n    anchor,\n    translateX,\n    translateY,\n    containerWidth,\n    containerHeight,\n    width,\n    height,\n}) => {\n    let x = translateX\n    let y = translateY\n\n    switch (anchor) {\n        case ANCHOR_TOP:\n            x += (containerWidth - width) / 2\n            break\n\n        case ANCHOR_TOP_RIGHT:\n            x += containerWidth - width\n            break\n\n        case ANCHOR_RIGHT:\n            x += containerWidth - width\n            y += (containerHeight - height) / 2\n            break\n\n        case ANCHOR_BOTTOM_RIGHT:\n            x += containerWidth - width\n            y += containerHeight - height\n            break\n\n        case ANCHOR_BOTTOM:\n            x += (containerWidth - width) / 2\n            y += containerHeight - height\n            break\n\n        case ANCHOR_BOTTOM_LEFT:\n            y += containerHeight - height\n            break\n\n        case ANCHOR_LEFT:\n            y += (containerHeight - height) / 2\n            break\n\n        case ANCHOR_CENTER:\n            x += (containerWidth - width) / 2\n            y += (containerHeight - height) / 2\n            break\n    }\n\n    return { x, y }\n}\n\nexport const computeItemLayout = ({\n    direction,\n    justify,\n    symbolSize,\n    symbolSpacing,\n    width,\n    height,\n}) => {\n    let symbolX\n    let symbolY\n\n    let labelX\n    let labelY\n    let labelAnchor\n    let labelAlignment\n\n    switch (direction) {\n        case DIRECTION_LEFT_TO_RIGHT:\n            symbolX = 0\n            symbolY = (height - symbolSize) / 2\n\n            labelY = height / 2\n            labelAlignment = 'central'\n            if (justify === true) {\n                labelX = width\n                labelAnchor = 'end'\n            } else {\n                labelX = symbolSize + symbolSpacing\n                labelAnchor = 'start'\n            }\n            break\n\n        case DIRECTION_RIGHT_TO_LEFT:\n            symbolX = width - symbolSize\n            symbolY = (height - symbolSize) / 2\n\n            labelY = height / 2\n            labelAlignment = 'central'\n            if (justify === true) {\n                labelX = 0\n                labelAnchor = 'start'\n            } else {\n                labelX = width - symbolSize - symbolSpacing\n                labelAnchor = 'end'\n            }\n            break\n\n        case DIRECTION_TOP_TO_BOTTOM:\n            symbolX = (width - symbolSize) / 2\n            symbolY = 0\n\n            labelX = width / 2\n\n            labelAnchor = 'middle'\n            if (justify === true) {\n                labelY = height\n                labelAlignment = 'alphabetic'\n            } else {\n                labelY = symbolSize + symbolSpacing\n                labelAlignment = 'text-before-edge'\n            }\n            break\n\n        case DIRECTION_BOTTOM_TO_TOP:\n            symbolX = (width - symbolSize) / 2\n            symbolY = height - symbolSize\n\n            labelX = width / 2\n            labelAnchor = 'middle'\n            if (justify === true) {\n                labelY = 0\n                labelAlignment = 'text-before-edge'\n            } else {\n                labelY = height - symbolSize - symbolSpacing\n                labelAlignment = 'alphabetic'\n            }\n            break\n    }\n\n    return {\n        symbolX,\n        symbolY,\n\n        labelX,\n        labelY,\n        labelAnchor,\n        labelAlignment,\n    }\n}\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","import getPrototypeOf from \"./getPrototypeOf\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct\";\nimport possibleConstructorReturn from \"./possibleConstructorReturn\";\nexport default function _createSuper(Derived) {\n  return function () {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (isNativeReflectConstruct()) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphal Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport PropTypes from 'prop-types'\n\nexport const symbolPropTypes = {\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired,\n    size: PropTypes.number.isRequired,\n    fill: PropTypes.string.isRequired,\n    borderWidth: PropTypes.number.isRequired,\n    borderColor: PropTypes.string.isRequired,\n}\n\nexport const symbolDefaultProps = {\n    borderWidth: 0,\n    borderColor: 'transparent',\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphal Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { PureComponent } from 'react'\nimport { symbolPropTypes, symbolDefaultProps } from './props'\n\nexport default class SymbolCircle extends PureComponent {\n    static propTypes = {\n        ...symbolPropTypes,\n    }\n\n    static defaultProps = {\n        ...symbolDefaultProps,\n    }\n\n    render() {\n        const { x, y, size, fill, borderWidth, borderColor } = this.props\n\n        return (\n            <circle\n                r={size / 2}\n                cx={x + size / 2}\n                cy={y + size / 2}\n                fill={fill}\n                strokeWidth={borderWidth}\n                stroke={borderColor}\n                style={{\n                    pointerEvents: 'none',\n                }}\n            />\n        )\n    }\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphal Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { PureComponent } from 'react'\nimport { symbolPropTypes, symbolDefaultProps } from './props'\n\nexport default class SymbolDiamond extends PureComponent {\n    static propTypes = {\n        ...symbolPropTypes,\n    }\n\n    static defaultProps = {\n        ...symbolDefaultProps,\n    }\n\n    render() {\n        const { x, y, size, fill, borderWidth, borderColor } = this.props\n\n        return (\n            <g transform={`translate(${x},${y})`}>\n                <path\n                    d={`\n                    M${size / 2} 0\n                    L${size * 0.8} ${size / 2}\n                    L${size / 2} ${size}\n                    L${size * 0.2} ${size / 2}\n                    L${size / 2} 0\n                `}\n                    fill={fill}\n                    strokeWidth={borderWidth}\n                    stroke={borderColor}\n                    style={{\n                        pointerEvents: 'none',\n                    }}\n                />\n            </g>\n        )\n    }\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphal Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { PureComponent } from 'react'\nimport { symbolPropTypes, symbolDefaultProps } from './props'\n\nexport default class SymbolSquare extends PureComponent {\n    static propTypes = {\n        ...symbolPropTypes,\n    }\n\n    static defaultProps = {\n        ...symbolDefaultProps,\n    }\n\n    render() {\n        const { x, y, size, fill, borderWidth, borderColor } = this.props\n\n        return (\n            <rect\n                x={x}\n                y={y}\n                fill={fill}\n                strokeWidth={borderWidth}\n                stroke={borderColor}\n                width={size}\n                height={size}\n                style={{\n                    pointerEvents: 'none',\n                }}\n            />\n        )\n    }\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphal Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { PureComponent } from 'react'\nimport { symbolPropTypes, symbolDefaultProps } from './props'\n\nexport default class SymbolTriangle extends PureComponent {\n    static propTypes = {\n        ...symbolPropTypes,\n    }\n\n    static defaultProps = {\n        ...symbolDefaultProps,\n    }\n\n    render() {\n        const { x, y, size, fill, borderWidth, borderColor } = this.props\n\n        return (\n            <g transform={`translate(${x},${y})`}>\n                <path\n                    d={`\n                M${size / 2} 0\n                L${size} ${size}\n                L0 ${size}\n                L${size / 2} 0\n            `}\n                    fill={fill}\n                    strokeWidth={borderWidth}\n                    stroke={borderColor}\n                    style={{\n                        pointerEvents: 'none',\n                    }}\n                />\n            </g>\n        )\n    }\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphal Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { useState, useCallback } from 'react'\nimport PropTypes from 'prop-types'\nimport isFunction from 'lodash/isFunction'\nimport { useTheme } from '@nivo/core'\nimport { datumPropType, symbolPropTypes, interactivityPropTypes } from '../props'\nimport { computeItemLayout } from '../compute'\nimport { SymbolCircle, SymbolDiamond, SymbolSquare, SymbolTriangle } from './symbols'\n\nconst symbolByShape = {\n    circle: SymbolCircle,\n    diamond: SymbolDiamond,\n    square: SymbolSquare,\n    triangle: SymbolTriangle,\n}\n\nconst LegendSvgItem = ({\n    x,\n    y,\n    width,\n    height,\n    data,\n    direction,\n    justify,\n    textColor,\n    background,\n    opacity,\n\n    symbolShape,\n    symbolSize,\n    symbolSpacing,\n    symbolBorderWidth,\n    symbolBorderColor,\n\n    onClick,\n    onMouseEnter,\n    onMouseLeave,\n\n    effects,\n}) => {\n    const [style, setStyle] = useState({})\n    const theme = useTheme()\n\n    const handleClick = useCallback(event => onClick && onClick(data, event), [onClick, data])\n    const handleMouseEnter = useCallback(\n        event => {\n            if (effects.length > 0) {\n                const applyEffects = effects.filter(({ on }) => on === 'hover')\n                const style = applyEffects.reduce(\n                    (acc, effect) => ({\n                        ...acc,\n                        ...effect.style,\n                    }),\n                    {}\n                )\n                setStyle(style)\n            }\n\n            if (onMouseEnter === undefined) return\n            onMouseEnter(data, event)\n        },\n        [onMouseEnter, data, effects]\n    )\n    const handleMouseLeave = useCallback(\n        event => {\n            if (effects.length > 0) {\n                const applyEffects = effects.filter(({ on }) => on !== 'hover')\n                const style = applyEffects.reduce(\n                    (acc, effect) => ({\n                        ...acc,\n                        ...effect.style,\n                    }),\n                    {}\n                )\n                setStyle(style)\n            }\n\n            if (onMouseLeave === undefined) return\n            onMouseLeave(data, event)\n        },\n        [onMouseLeave, data, effects]\n    )\n\n    const { symbolX, symbolY, labelX, labelY, labelAnchor, labelAlignment } = computeItemLayout({\n        direction,\n        justify,\n        symbolSize: style.symbolSize || symbolSize,\n        symbolSpacing,\n        width,\n        height,\n    })\n\n    const isInteractive = [onClick, onMouseEnter, onMouseLeave].some(\n        handler => handler !== undefined\n    )\n\n    let Symbol\n    if (isFunction(symbolShape)) {\n        Symbol = symbolShape\n    } else {\n        Symbol = symbolByShape[symbolShape]\n    }\n\n    return (\n        <g\n            transform={`translate(${x},${y})`}\n            style={{\n                opacity: style.itemOpacity !== undefined ? style.itemOpacity : opacity,\n            }}\n        >\n            <rect\n                width={width}\n                height={height}\n                fill={style.itemBackground || background}\n                style={{\n                    cursor: isInteractive ? 'pointer' : 'auto',\n                }}\n                onClick={handleClick}\n                onMouseEnter={handleMouseEnter}\n                onMouseLeave={handleMouseLeave}\n            />\n            {React.createElement(Symbol, {\n                id: data.id,\n                x: symbolX,\n                y: symbolY,\n                size: style.symbolSize || symbolSize,\n                fill: data.fill || data.color,\n                borderWidth:\n                    style.symbolBorderWidth !== undefined\n                        ? style.symbolBorderWidth\n                        : symbolBorderWidth,\n                borderColor: style.symbolBorderColor || symbolBorderColor,\n            })}\n            <text\n                textAnchor={labelAnchor}\n                style={{\n                    ...theme.legends.text,\n                    fill: style.itemTextColor || theme.legends.text.fill || textColor,\n                    dominantBaseline: labelAlignment,\n                    pointerEvents: 'none',\n                    userSelect: 'none',\n                }}\n                x={labelX}\n                y={labelY}\n            >\n                {data.label}\n            </text>\n        </g>\n    )\n}\n\nLegendSvgItem.displayName = 'LegendSvgItem'\nLegendSvgItem.propTypes = {\n    data: datumPropType.isRequired,\n\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired,\n    width: PropTypes.number.isRequired,\n    height: PropTypes.number.isRequired,\n\n    textColor: PropTypes.string,\n    background: PropTypes.string,\n    opacity: PropTypes.number,\n\n    direction: PropTypes.oneOf(['left-to-right', 'right-to-left', 'top-to-bottom', 'bottom-to-top'])\n        .isRequired,\n    justify: PropTypes.bool.isRequired,\n\n    ...symbolPropTypes,\n    ...interactivityPropTypes,\n}\nLegendSvgItem.defaultProps = {\n    direction: 'left-to-right',\n    justify: false,\n\n    textColor: 'black',\n    background: 'transparent',\n    opacity: 1,\n\n    symbolShape: 'square',\n    symbolSize: 16,\n    symbolSpacing: 8,\n    symbolBorderWidth: 0,\n    symbolBorderColor: 'transparent',\n\n    effects: [],\n}\n\nexport default LegendSvgItem\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphal Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport LegendSvgItem from './LegendSvgItem'\nimport { datumPropType, symbolPropTypes, interactivityPropTypes } from '../props'\nimport { computeDimensions } from '../compute'\nimport {\n    DIRECTION_LEFT_TO_RIGHT,\n    DIRECTION_RIGHT_TO_LEFT,\n    DIRECTION_TOP_TO_BOTTOM,\n    DIRECTION_BOTTOM_TO_TOP,\n} from '../constants'\n\nconst LegendSvg = ({\n    data,\n\n    x,\n    y,\n    direction,\n    padding: _padding,\n    justify,\n    effects,\n\n    itemWidth,\n    itemHeight,\n    itemDirection,\n    itemsSpacing,\n    itemTextColor,\n    itemBackground,\n    itemOpacity,\n\n    symbolShape,\n    symbolSize,\n    symbolSpacing,\n    symbolBorderWidth,\n    symbolBorderColor,\n\n    onClick,\n    onMouseEnter,\n    onMouseLeave,\n}) => {\n    // eslint-disable-next-line no-unused-vars\n    const { width, height, padding } = computeDimensions({\n        itemCount: data.length,\n        itemWidth,\n        itemHeight,\n        itemsSpacing,\n        direction,\n        padding: _padding,\n    })\n\n    let xStep = 0\n    let yStep = 0\n    if (direction === 'row') {\n        xStep = itemWidth + itemsSpacing\n    } else if (direction === 'column') {\n        yStep = itemHeight + itemsSpacing\n    }\n\n    return (\n        <g transform={`translate(${x},${y})`}>\n            {data.map((data, i) => (\n                <LegendSvgItem\n                    key={i}\n                    data={data}\n                    x={i * xStep + padding.left}\n                    y={i * yStep + padding.top}\n                    width={itemWidth}\n                    height={itemHeight}\n                    direction={itemDirection}\n                    justify={justify}\n                    effects={effects}\n                    textColor={itemTextColor}\n                    background={itemBackground}\n                    opacity={itemOpacity}\n                    symbolShape={symbolShape}\n                    symbolSize={symbolSize}\n                    symbolSpacing={symbolSpacing}\n                    symbolBorderWidth={symbolBorderWidth}\n                    symbolBorderColor={symbolBorderColor}\n                    onClick={onClick}\n                    onMouseEnter={onMouseEnter}\n                    onMouseLeave={onMouseLeave}\n                />\n            ))}\n        </g>\n    )\n}\n\nLegendSvg.propTypes = {\n    data: PropTypes.arrayOf(datumPropType).isRequired,\n\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired,\n    direction: PropTypes.oneOf(['row', 'column']).isRequired,\n    padding: PropTypes.oneOfType([\n        PropTypes.number,\n        PropTypes.shape({\n            top: PropTypes.number,\n            right: PropTypes.number,\n            bottom: PropTypes.number,\n            left: PropTypes.number,\n        }),\n    ]).isRequired,\n    justify: PropTypes.bool.isRequired,\n\n    itemsSpacing: PropTypes.number.isRequired,\n    itemWidth: PropTypes.number.isRequired,\n    itemHeight: PropTypes.number.isRequired,\n    itemDirection: PropTypes.oneOf([\n        DIRECTION_LEFT_TO_RIGHT,\n        DIRECTION_RIGHT_TO_LEFT,\n        DIRECTION_TOP_TO_BOTTOM,\n        DIRECTION_BOTTOM_TO_TOP,\n    ]).isRequired,\n    itemTextColor: PropTypes.string.isRequired,\n    itemBackground: PropTypes.string.isRequired,\n    itemOpacity: PropTypes.number.isRequired,\n\n    ...symbolPropTypes,\n    ...interactivityPropTypes,\n}\n\nLegendSvg.defaultProps = {\n    padding: 0,\n    justify: false,\n\n    itemsSpacing: 0,\n    itemDirection: 'left-to-right',\n    itemTextColor: 'black',\n    itemBackground: 'transparent',\n    itemOpacity: 1,\n}\n\nexport default LegendSvg\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphal Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport LegendSvg from './LegendSvg'\nimport { datumPropType, symbolPropTypes, interactivityPropTypes } from '../props'\nimport { computeDimensions, computePositionFromAnchor } from '../compute'\nimport {\n    DIRECTION_ROW,\n    DIRECTION_COLUMN,\n    DIRECTION_BOTTOM_TO_TOP,\n    DIRECTION_LEFT_TO_RIGHT,\n    DIRECTION_RIGHT_TO_LEFT,\n    DIRECTION_TOP_TO_BOTTOM,\n    ANCHOR_TOP,\n    ANCHOR_TOP_RIGHT,\n    ANCHOR_RIGHT,\n    ANCHOR_BOTTOM_RIGHT,\n    ANCHOR_BOTTOM,\n    ANCHOR_BOTTOM_LEFT,\n    ANCHOR_LEFT,\n    ANCHOR_TOP_LEFT,\n    ANCHOR_CENTER,\n} from '../constants'\n\nconst BoxLegendSvg = ({\n    data,\n\n    containerWidth,\n    containerHeight,\n    translateX,\n    translateY,\n    anchor,\n    direction,\n    padding,\n    justify,\n\n    itemsSpacing,\n    itemWidth,\n    itemHeight,\n    itemDirection,\n    itemTextColor,\n    itemBackground,\n    itemOpacity,\n\n    symbolShape,\n    symbolSize,\n    symbolSpacing,\n    symbolBorderWidth,\n    symbolBorderColor,\n\n    onClick,\n    onMouseEnter,\n    onMouseLeave,\n\n    effects,\n}) => {\n    const { width, height } = computeDimensions({\n        itemCount: data.length,\n        itemsSpacing,\n        itemWidth,\n        itemHeight,\n        direction,\n        padding,\n    })\n\n    const { x, y } = computePositionFromAnchor({\n        anchor,\n        translateX,\n        translateY,\n        containerWidth,\n        containerHeight,\n        width,\n        height,\n    })\n\n    return (\n        <LegendSvg\n            data={data}\n            x={x}\n            y={y}\n            direction={direction}\n            padding={padding}\n            justify={justify}\n            effects={effects}\n            itemsSpacing={itemsSpacing}\n            itemWidth={itemWidth}\n            itemHeight={itemHeight}\n            itemDirection={itemDirection}\n            itemTextColor={itemTextColor}\n            itemBackground={itemBackground}\n            itemOpacity={itemOpacity}\n            symbolShape={symbolShape}\n            symbolSize={symbolSize}\n            symbolSpacing={symbolSpacing}\n            symbolBorderWidth={symbolBorderWidth}\n            symbolBorderColor={symbolBorderColor}\n            onClick={onClick}\n            onMouseEnter={onMouseEnter}\n            onMouseLeave={onMouseLeave}\n        />\n    )\n}\n\nBoxLegendSvg.propTypes = {\n    data: PropTypes.arrayOf(datumPropType).isRequired,\n    containerWidth: PropTypes.number.isRequired,\n    containerHeight: PropTypes.number.isRequired,\n    translateX: PropTypes.number.isRequired,\n    translateY: PropTypes.number.isRequired,\n    anchor: PropTypes.oneOf([\n        ANCHOR_TOP,\n        ANCHOR_TOP_RIGHT,\n        ANCHOR_RIGHT,\n        ANCHOR_BOTTOM_RIGHT,\n        ANCHOR_BOTTOM,\n        ANCHOR_BOTTOM_LEFT,\n        ANCHOR_LEFT,\n        ANCHOR_TOP_LEFT,\n        ANCHOR_CENTER,\n    ]).isRequired,\n    direction: PropTypes.oneOf([DIRECTION_ROW, DIRECTION_COLUMN]).isRequired,\n    padding: PropTypes.oneOfType([\n        PropTypes.number,\n        PropTypes.shape({\n            top: PropTypes.number,\n            right: PropTypes.number,\n            bottom: PropTypes.number,\n            left: PropTypes.number,\n        }),\n    ]).isRequired,\n    justify: PropTypes.bool,\n\n    itemWidth: PropTypes.number.isRequired,\n    itemHeight: PropTypes.number.isRequired,\n    itemDirection: PropTypes.oneOf([\n        DIRECTION_LEFT_TO_RIGHT,\n        DIRECTION_RIGHT_TO_LEFT,\n        DIRECTION_TOP_TO_BOTTOM,\n        DIRECTION_BOTTOM_TO_TOP,\n    ]),\n    itemsSpacing: PropTypes.number.isRequired,\n    itemTextColor: PropTypes.string,\n    itemBackground: PropTypes.string,\n    itemOpacity: PropTypes.number,\n\n    ...symbolPropTypes,\n    ...interactivityPropTypes,\n}\n\nBoxLegendSvg.defaultProps = {\n    translateX: 0,\n    translateY: 0,\n    itemsSpacing: LegendSvg.defaultProps.itemsSpacing,\n    padding: LegendSvg.defaultProps.padding,\n}\n\nexport default BoxLegendSvg\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphal Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { computeDimensions, computePositionFromAnchor, computeItemLayout } from '../compute'\nimport BoxLegendSvg from '../svg/BoxLegendSvg'\nimport LegendSvg from '../svg/LegendSvg'\nimport LegendSvgItem from '../svg/LegendSvgItem'\nimport { DIRECTION_COLUMN, DIRECTION_ROW } from '../constants'\n\nconst textPropsMapping = {\n    align: {\n        start: 'left',\n        middle: 'center',\n        end: 'right',\n    },\n    baseline: {\n        hanging: 'top',\n        middle: 'middle',\n        central: 'middle',\n        baseline: 'bottom',\n    },\n}\n\nexport const renderLegendToCanvas = (\n    ctx,\n    {\n        data,\n\n        containerWidth,\n        containerHeight,\n        translateX = BoxLegendSvg.defaultProps.translateX,\n        translateY = BoxLegendSvg.defaultProps.translateY,\n        anchor,\n        direction,\n        padding: _padding = LegendSvg.defaultProps.padding,\n        justify = LegendSvgItem.defaultProps.justify,\n\n        // items\n        itemsSpacing = LegendSvg.defaultProps.itemsSpacing,\n        itemWidth,\n        itemHeight,\n        itemDirection = LegendSvgItem.defaultProps.direction,\n        itemTextColor = LegendSvg.defaultProps.textColor,\n\n        // symbol\n        symbolSize = LegendSvgItem.defaultProps.symbolSize,\n        symbolSpacing = LegendSvgItem.defaultProps.symbolSpacing,\n        // @todo add support for shapes\n        // symbolShape = LegendSvgItem.defaultProps.symbolShape,\n\n        theme,\n    }\n) => {\n    const { width, height, padding } = computeDimensions({\n        itemCount: data.length,\n        itemWidth,\n        itemHeight,\n        itemsSpacing,\n        direction,\n        padding: _padding,\n    })\n\n    const { x, y } = computePositionFromAnchor({\n        anchor,\n        translateX,\n        translateY,\n        containerWidth,\n        containerHeight,\n        width,\n        height,\n    })\n\n    let xStep = 0\n    let yStep = 0\n    if (direction === DIRECTION_ROW) {\n        xStep = itemWidth + itemsSpacing\n    } else if (direction === DIRECTION_COLUMN) {\n        yStep = itemHeight + itemsSpacing\n    }\n\n    ctx.save()\n    ctx.translate(x, y)\n\n    ctx.font = `${theme.legends.text.fontSize}px ${theme.legends.text.fontFamily || 'sans-serif'}`\n\n    data.forEach((d, i) => {\n        const itemX = i * xStep + padding.left\n        const itemY = i * yStep + padding.top\n\n        const { symbolX, symbolY, labelX, labelY, labelAnchor, labelAlignment } = computeItemLayout(\n            {\n                direction: itemDirection,\n                justify,\n                symbolSize,\n                symbolSpacing,\n                width: itemWidth,\n                height: itemHeight,\n            }\n        )\n\n        ctx.fillStyle = d.color\n        ctx.fillRect(itemX + symbolX, itemY + symbolY, symbolSize, symbolSize)\n\n        ctx.textAlign = textPropsMapping.align[labelAnchor]\n        ctx.textBaseline = textPropsMapping.baseline[labelAlignment]\n        ctx.fillStyle = itemTextColor || theme.legends.text.fill\n        ctx.fillText(d.label, itemX + labelX, itemY + labelY)\n    })\n\n    ctx.restore()\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphal Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { useMemo } from 'react'\n\nexport const useQuantizeColorScaleLegendData = ({\n    scale,\n    domain: overriddenDomain,\n    reverse = false,\n    valueFormat = v => v,\n    separator = ' - ',\n}) => {\n    return useMemo(() => {\n        const domain = overriddenDomain || scale.range()\n\n        const items = domain.map((domainValue, index) => {\n            const [start, end] = scale.invertExtent(domainValue)\n\n            return {\n                id: domainValue,\n                index,\n                extent: [start, end],\n                label: `${valueFormat(start)}${separator}${valueFormat(end)}`,\n                value: scale(start),\n                color: domainValue,\n            }\n        })\n        if (reverse === true) items.reverse()\n\n        return items\n    }, [overriddenDomain, scale, reverse])\n}\n"]},"metadata":{},"sourceType":"module"}