{"ast":null,"code":"import { schemeCategory10, schemeAccent, schemeDark2, schemePaired, schemePastel1, schemePastel2, schemeSet1, schemeSet2, schemeSet3, schemeBrBG, schemePRGn, schemePiYG, schemePuOr, schemeRdBu, schemeRdGy, schemeRdYlBu, schemeRdYlGn, schemeSpectral, interpolateBrBG, interpolatePRGn, interpolatePiYG, interpolatePuOr, interpolateRdBu, interpolateRdGy, interpolateRdYlBu, interpolateRdYlGn, interpolateSpectral, schemeBlues, schemeGreens, schemeGreys, schemeOranges, schemePurples, schemeReds, schemeBuGn, schemeBuPu, schemeGnBu, schemeOrRd, schemePuBuGn, schemePuBu, schemePuRd, schemeRdPu, schemeYlGnBu, schemeYlGn, schemeYlOrBr, schemeYlOrRd, interpolateBlues, interpolateGreens, interpolateGreys, interpolateOranges, interpolatePurples, interpolateReds, interpolateTurbo, interpolateViridis, interpolateInferno, interpolateMagma, interpolatePlasma, interpolateCividis, interpolateWarm, interpolateCool, interpolateCubehelixDefault, interpolateBuGn, interpolateBuPu, interpolateGnBu, interpolateOrRd, interpolatePuBuGn, interpolatePuBu, interpolatePuRd, interpolateRdPu, interpolateYlGnBu, interpolateYlGn, interpolateYlOrBr, interpolateYlOrRd, interpolateRainbow, interpolateSinebow } from 'd3-scale-chromatic';\nimport _isPlainObject from 'lodash/isPlainObject';\nimport _get from 'lodash/get';\nimport { useMemo } from 'react';\nimport { rgb } from 'd3-color';\nimport { spring } from 'react-motion';\nimport { scaleOrdinal } from 'd3-scale';\nimport PropTypes from 'prop-types';\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nvar categoricalColorSchemes = {\n  nivo: ['#e8c1a0', '#f47560', '#f1e15b', '#e8a838', '#61cdbb', '#97e3d5'],\n  category10: schemeCategory10,\n  accent: schemeAccent,\n  dark2: schemeDark2,\n  paired: schemePaired,\n  pastel1: schemePastel1,\n  pastel2: schemePastel2,\n  set1: schemeSet1,\n  set2: schemeSet2,\n  set3: schemeSet3\n};\nvar categoricalColorSchemeIds = Object.keys(categoricalColorSchemes);\nvar divergingColorSchemes = {\n  brown_blueGreen: schemeBrBG,\n  purpleRed_green: schemePRGn,\n  pink_yellowGreen: schemePiYG,\n  purple_orange: schemePuOr,\n  red_blue: schemeRdBu,\n  red_grey: schemeRdGy,\n  red_yellow_blue: schemeRdYlBu,\n  red_yellow_green: schemeRdYlGn,\n  spectral: schemeSpectral\n};\nvar divergingColorSchemeIds = Object.keys(divergingColorSchemes);\nvar divergingColorInterpolators = {\n  brown_blueGreen: interpolateBrBG,\n  purpleRed_green: interpolatePRGn,\n  pink_yellowGreen: interpolatePiYG,\n  purple_orange: interpolatePuOr,\n  red_blue: interpolateRdBu,\n  red_grey: interpolateRdGy,\n  red_yellow_blue: interpolateRdYlBu,\n  red_yellow_green: interpolateRdYlGn,\n  spectral: interpolateSpectral\n};\nvar sequentialColorSchemes = {\n  blues: schemeBlues,\n  greens: schemeGreens,\n  greys: schemeGreys,\n  oranges: schemeOranges,\n  purples: schemePurples,\n  reds: schemeReds,\n  blue_green: schemeBuGn,\n  blue_purple: schemeBuPu,\n  green_blue: schemeGnBu,\n  orange_red: schemeOrRd,\n  purple_blue_green: schemePuBuGn,\n  purple_blue: schemePuBu,\n  purple_red: schemePuRd,\n  red_purple: schemeRdPu,\n  yellow_green_blue: schemeYlGnBu,\n  yellow_green: schemeYlGn,\n  yellow_orange_brown: schemeYlOrBr,\n  yellow_orange_red: schemeYlOrRd\n};\nvar sequentialColorSchemeIds = Object.keys(sequentialColorSchemes);\nvar sequentialColorInterpolators = {\n  blues: interpolateBlues,\n  greens: interpolateGreens,\n  greys: interpolateGreys,\n  oranges: interpolateOranges,\n  purples: interpolatePurples,\n  reds: interpolateReds,\n  turbo: interpolateTurbo,\n  viridis: interpolateViridis,\n  inferno: interpolateInferno,\n  magma: interpolateMagma,\n  plasma: interpolatePlasma,\n  cividis: interpolateCividis,\n  warm: interpolateWarm,\n  cool: interpolateCool,\n  cubehelixDefault: interpolateCubehelixDefault,\n  blue_green: interpolateBuGn,\n  blue_purple: interpolateBuPu,\n  green_blue: interpolateGnBu,\n  orange_red: interpolateOrRd,\n  purple_blue_green: interpolatePuBuGn,\n  purple_blue: interpolatePuBu,\n  purple_red: interpolatePuRd,\n  red_purple: interpolateRdPu,\n  yellow_green_blue: interpolateYlGnBu,\n  yellow_green: interpolateYlGn,\n  yellow_orange_brown: interpolateYlOrBr,\n  yellow_orange_red: interpolateYlOrRd\n};\n\nvar colorSchemes = _objectSpread2(_objectSpread2(_objectSpread2({}, categoricalColorSchemes), divergingColorSchemes), sequentialColorSchemes);\n\nvar colorSchemeIds = Object.keys(colorSchemes);\n\nvar isCategoricalColorScheme = function isCategoricalColorScheme(scheme) {\n  return categoricalColorSchemeIds.includes(scheme);\n};\n\nvar isDivergingColorScheme = function isDivergingColorScheme(scheme) {\n  return divergingColorSchemeIds.includes(scheme);\n};\n\nvar isSequentialColorScheme = function isSequentialColorScheme(scheme) {\n  return sequentialColorSchemeIds.includes(scheme);\n};\n\nvar cyclicalColorInterpolators = {\n  rainbow: interpolateRainbow,\n  sinebow: interpolateSinebow\n};\n\nvar colorInterpolators = _objectSpread2(_objectSpread2(_objectSpread2({}, divergingColorInterpolators), sequentialColorInterpolators), cyclicalColorInterpolators);\n\nvar colorInterpolatorIds = Object.keys(colorInterpolators);\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _createForOfIteratorHelper(o) {\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (o = _unsupportedIterableToArray(o))) {\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var it,\n      normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nvar isInheritedColorConfigFromTheme = function isInheritedColorConfigFromTheme(config) {\n  return config.theme !== undefined;\n};\n\nvar isInheritedColorConfigFromContext = function isInheritedColorConfigFromContext(config) {\n  return config.from !== undefined;\n};\n\nvar getInheritedColorGenerator = function getInheritedColorGenerator(config, theme) {\n  if (typeof config === 'function') {\n    return function (datum) {\n      return config(datum);\n    };\n  }\n\n  if (_isPlainObject(config)) {\n    if (isInheritedColorConfigFromTheme(config)) {\n      if (theme === undefined) {\n        throw new Error(\"Unable to use color from theme as no theme was provided\");\n      }\n\n      var themeColor = _get(theme, config.theme);\n\n      if (themeColor === undefined) {\n        throw new Error(\"Color from theme is undefined at path: '\".concat(config.theme, \"'\"));\n      }\n\n      return function () {\n        return themeColor;\n      };\n    }\n\n    if (isInheritedColorConfigFromContext(config)) {\n      var getColor = function getColor(d) {\n        return _get(d, config.from);\n      };\n\n      if (Array.isArray(config.modifiers)) {\n        var modifiers = [];\n\n        var _iterator = _createForOfIteratorHelper(config.modifiers),\n            _step;\n\n        try {\n          var _loop = function _loop() {\n            var modifier = _step.value;\n\n            var _modifier = _slicedToArray(modifier, 2),\n                modifierType = _modifier[0],\n                amount = _modifier[1];\n\n            if (modifierType === 'brighter') {\n              modifiers.push(function (color) {\n                return color.brighter(amount);\n              });\n            } else if (modifierType === 'darker') {\n              modifiers.push(function (color) {\n                return color.darker(amount);\n              });\n            } else if (modifierType === 'opacity') {\n              modifiers.push(function (color) {\n                color.opacity = amount;\n                return color;\n              });\n            } else {\n              throw new Error(\"Invalid color modifier: '\".concat(modifierType, \"', must be one of: 'brighter', 'darker', 'opacity'\"));\n            }\n          };\n\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            _loop();\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n\n        if (modifiers.length === 0) return getColor;\n        return function (datum) {\n          return modifiers.reduce(function (color, modify) {\n            return modify(color);\n          }, rgb(getColor(datum))).toString();\n        };\n      }\n\n      return getColor;\n    }\n\n    throw new Error(\"Invalid color spec, you should either specify 'theme' or 'from' when using a config object\");\n  }\n\n  return function () {\n    return config;\n  };\n};\n\nvar useInheritedColor = function useInheritedColor(config, theme) {\n  return useMemo(function () {\n    return getInheritedColorGenerator(config, theme);\n  }, [config, theme]);\n};\n\nvar interpolateColor = function interpolateColor(color, springConfig) {\n  var colorComponents = rgb(color);\n\n  if (!springConfig) {\n    return {\n      colorR: colorComponents.r,\n      colorG: colorComponents.g,\n      colorB: colorComponents.b\n    };\n  }\n\n  var configWithPrecision = _objectSpread2(_objectSpread2({}, springConfig), {}, {\n    precision: 1\n  });\n\n  return {\n    colorR: spring(colorComponents.r, configWithPrecision),\n    colorG: spring(colorComponents.g, configWithPrecision),\n    colorB: spring(colorComponents.b, configWithPrecision)\n  };\n};\n\nvar getInterpolatedColor = function getInterpolatedColor(_ref) {\n  var colorR = _ref.colorR,\n      colorG = _ref.colorG,\n      colorB = _ref.colorB;\n  return \"rgb(\".concat(Math.round(Math.max(colorR, 0)), \",\").concat(Math.round(Math.max(colorG, 0)), \",\").concat(Math.round(Math.max(colorB, 0)), \")\");\n};\n\nvar isOrdinalColorScaleConfigScheme = function isOrdinalColorScaleConfigScheme(config) {\n  return config.scheme !== undefined;\n};\n\nvar isOrdinalColorScaleConfigDatumProperty = function isOrdinalColorScaleConfigDatumProperty(config) {\n  return config.datum !== undefined;\n};\n\nvar getOrdinalColorScale = function getOrdinalColorScale(config, identity) {\n  if (typeof config === 'function') {\n    return config;\n  }\n\n  var getIdentity = typeof identity === 'function' ? identity : function (datum) {\n    return _get(datum, identity);\n  };\n\n  if (Array.isArray(config)) {\n    var scale = scaleOrdinal(config);\n\n    var generator = function generator(datum) {\n      return scale(getIdentity(datum));\n    };\n\n    generator.scale = scale;\n    return generator;\n  }\n\n  if (_isPlainObject(config)) {\n    if (isOrdinalColorScaleConfigDatumProperty(config)) {\n      return function (datum) {\n        return _get(datum, config.datum);\n      };\n    }\n\n    if (isOrdinalColorScaleConfigScheme(config)) {\n      if (isCategoricalColorScheme(config.scheme)) {\n        var _scale = scaleOrdinal(colorSchemes[config.scheme]);\n\n        var _generator = function _generator(datum) {\n          return _scale(getIdentity(datum));\n        };\n\n        _generator.scale = _scale;\n        return _generator;\n      }\n\n      if (isDivergingColorScheme(config.scheme)) {\n        if (config.size !== undefined && (config.size < 3 || config.size > 11)) {\n          throw new Error(\"Invalid size '\".concat(config.size, \"' for diverging color scheme '\").concat(config.scheme, \"', must be between 3~11\"));\n        }\n\n        var _scale2 = scaleOrdinal(colorSchemes[config.scheme][config.size || 11]);\n\n        var _generator2 = function _generator2(d) {\n          return _scale2(getIdentity(d));\n        };\n\n        _generator2.scale = _scale2;\n        return _generator2;\n      }\n\n      if (isSequentialColorScheme(config.scheme)) {\n        if (config.size !== undefined && (config.size < 3 || config.size > 9)) {\n          throw new Error(\"Invalid size '\".concat(config.size, \"' for sequential color scheme '\").concat(config.scheme, \"', must be between 3~9\"));\n        }\n\n        var _scale3 = scaleOrdinal(colorSchemes[config.scheme][config.size || 9]);\n\n        var _generator3 = function _generator3(d) {\n          return _scale3(getIdentity(d));\n        };\n\n        _generator3.scale = _scale3;\n        return _generator3;\n      }\n    }\n\n    throw new Error(\"Invalid colors, when using an object, you should either pass a 'datum' or a 'scheme' property\");\n  }\n\n  return function () {\n    return config;\n  };\n};\n\nvar useOrdinalColorScale = function useOrdinalColorScale(config, identity) {\n  return useMemo(function () {\n    return getOrdinalColorScale(config, identity);\n  }, [config, identity]);\n};\n\nvar ordinalColorsPropType = PropTypes.oneOfType([PropTypes.func, PropTypes.arrayOf(PropTypes.string), PropTypes.shape({\n  scheme: PropTypes.oneOf(colorSchemeIds).isRequired,\n  size: PropTypes.number\n}), PropTypes.shape({\n  datum: PropTypes.string.isRequired\n}), PropTypes.string]);\nvar colorPropertyAccessorPropType = PropTypes.oneOfType([PropTypes.func, PropTypes.string]);\nvar inheritedColorPropType = PropTypes.oneOfType([PropTypes.string, PropTypes.func, PropTypes.shape({\n  theme: PropTypes.string.isRequired\n}), PropTypes.shape({\n  from: PropTypes.string.isRequired,\n  modifiers: PropTypes.arrayOf(PropTypes.array)\n})]);\nexport { categoricalColorSchemeIds, categoricalColorSchemes, colorInterpolatorIds, colorInterpolators, colorPropertyAccessorPropType, colorSchemeIds, colorSchemes, cyclicalColorInterpolators, divergingColorInterpolators, divergingColorSchemeIds, divergingColorSchemes, getInheritedColorGenerator, getInterpolatedColor, getOrdinalColorScale, inheritedColorPropType, interpolateColor, isCategoricalColorScheme, isDivergingColorScheme, isSequentialColorScheme, ordinalColorsPropType, sequentialColorInterpolators, sequentialColorSchemeIds, sequentialColorSchemes, useInheritedColor, useOrdinalColorScale };","map":{"version":3,"sources":["../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../src/schemes/categorical.ts","../src/schemes/diverging.ts","../src/schemes/sequential.ts","../src/schemes/all.ts","../src/schemes/cyclical.ts","../src/schemes/interpolators.ts","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","../src/inheritedColor.ts","../src/motion.ts","../src/ordinalColorScale.ts","../src/props.ts"],"names":["defineProperty","categoricalColorSchemes","nivo","category10","accent","dark2","paired","pastel1","pastel2","set1","set2","set3","schemeSet3","categoricalColorSchemeIds","Object","divergingColorSchemes","brown_blueGreen","purpleRed_green","pink_yellowGreen","purple_orange","red_blue","red_grey","red_yellow_blue","red_yellow_green","spectral","schemeSpectral","divergingColorSchemeIds","divergingColorInterpolators","interpolateSpectral","sequentialColorSchemes","blues","greens","greys","oranges","purples","reds","blue_green","blue_purple","green_blue","orange_red","purple_blue_green","purple_blue","purple_red","red_purple","yellow_green_blue","yellow_green","yellow_orange_brown","yellow_orange_red","schemeYlOrRd","sequentialColorSchemeIds","sequentialColorInterpolators","turbo","viridis","inferno","magma","plasma","cividis","warm","cool","cubehelixDefault","interpolateYlOrRd","colorSchemes","colorSchemeIds","isCategoricalColorScheme","isDivergingColorScheme","isSequentialColorScheme","cyclicalColorInterpolators","rainbow","sinebow","interpolateSinebow","colorInterpolatorIds","arrayLikeToArray","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","isInheritedColorConfigFromTheme","config","isInheritedColorConfigFromContext","getInheritedColorGenerator","theme","themeColor","getColor","Array","modifiers","modifier","modifierType","amount","color","modify","rgb","useInheritedColor","useMemo","interpolateColor","colorComponents","colorR","colorG","colorB","b","configWithPrecision","precision","spring","getInterpolatedColor","Math","isOrdinalColorScaleConfigScheme","isOrdinalColorScaleConfigDatumProperty","getOrdinalColorScale","getIdentity","scale","scaleOrdinal","generator","useOrdinalColorScale","ordinalColorsPropType","PropTypes","scheme","size","number","datum","isRequired","colorPropertyAccessorPropType","inheritedColorPropType","from"],"mappings":"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","sourcesContent":["export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import {\n    schemeCategory10,\n    schemeAccent,\n    schemeDark2,\n    schemePaired,\n    schemePastel1,\n    schemePastel2,\n    schemeSet1,\n    schemeSet2,\n    schemeSet3,\n} from 'd3-scale-chromatic'\n\nexport const categoricalColorSchemes = {\n    nivo: ['#e8c1a0', '#f47560', '#f1e15b', '#e8a838', '#61cdbb', '#97e3d5'],\n    category10: schemeCategory10,\n    accent: schemeAccent,\n    dark2: schemeDark2,\n    paired: schemePaired,\n    pastel1: schemePastel1,\n    pastel2: schemePastel2,\n    set1: schemeSet1,\n    set2: schemeSet2,\n    set3: schemeSet3,\n}\n\nexport type CategoricalColorSchemeId = keyof typeof categoricalColorSchemes\n\nexport const categoricalColorSchemeIds = Object.keys(\n    categoricalColorSchemes\n) as CategoricalColorSchemeId[]\n","import {\n    schemeBrBG,\n    interpolateBrBG,\n    schemePRGn,\n    interpolatePRGn,\n    schemePiYG,\n    interpolatePiYG,\n    schemePuOr,\n    interpolatePuOr,\n    schemeRdBu,\n    interpolateRdBu,\n    schemeRdGy,\n    interpolateRdGy,\n    schemeRdYlBu,\n    interpolateRdYlBu,\n    schemeRdYlGn,\n    interpolateRdYlGn,\n    schemeSpectral,\n    interpolateSpectral,\n} from 'd3-scale-chromatic'\n\n// Diverging color schemes support a size k ranging from 3 to 11\nexport const divergingColorSchemes = {\n    brown_blueGreen: schemeBrBG,\n    purpleRed_green: schemePRGn,\n    pink_yellowGreen: schemePiYG,\n    purple_orange: schemePuOr,\n    red_blue: schemeRdBu,\n    red_grey: schemeRdGy,\n    red_yellow_blue: schemeRdYlBu,\n    red_yellow_green: schemeRdYlGn,\n    spectral: schemeSpectral,\n}\n\nexport type DivergingColorSchemeId = keyof typeof divergingColorSchemes\n\nexport const divergingColorSchemeIds = Object.keys(\n    divergingColorSchemes\n) as DivergingColorSchemeId[]\n\nexport const divergingColorInterpolators = {\n    brown_blueGreen: interpolateBrBG,\n    purpleRed_green: interpolatePRGn,\n    pink_yellowGreen: interpolatePiYG,\n    purple_orange: interpolatePuOr,\n    red_blue: interpolateRdBu,\n    red_grey: interpolateRdGy,\n    red_yellow_blue: interpolateRdYlBu,\n    red_yellow_green: interpolateRdYlGn,\n    spectral: interpolateSpectral,\n}\n\nexport type DivergingColorInterpolatorId = keyof typeof divergingColorInterpolators\n","import {\n    // single hue\n    schemeBlues,\n    interpolateBlues,\n    schemeGreens,\n    interpolateGreens,\n    schemeGreys,\n    interpolateGreys,\n    schemeOranges,\n    interpolateOranges,\n    schemePurples,\n    interpolatePurples,\n    schemeReds,\n    interpolateReds,\n    // multi hue\n    schemeBuGn,\n    interpolateBuGn,\n    schemeBuPu,\n    interpolateBuPu,\n    schemeGnBu,\n    interpolateGnBu,\n    schemeOrRd,\n    interpolateOrRd,\n    schemePuBuGn,\n    interpolatePuBuGn,\n    schemePuBu,\n    interpolatePuBu,\n    schemePuRd,\n    interpolatePuRd,\n    schemeRdPu,\n    interpolateRdPu,\n    schemeYlGnBu,\n    interpolateYlGnBu,\n    schemeYlGn,\n    interpolateYlGn,\n    schemeYlOrBr,\n    interpolateYlOrBr,\n    schemeYlOrRd,\n    interpolateYlOrRd,\n    interpolateTurbo,\n    interpolateViridis,\n    interpolateInferno,\n    interpolateMagma,\n    interpolatePlasma,\n    interpolateCividis,\n    interpolateWarm,\n    interpolateCool,\n    interpolateCubehelixDefault,\n} from 'd3-scale-chromatic'\n\n// Sequential, single-hue color schemes support a size k ranging from 3 to 9\n// Sequential, multi-hue color schemes support a size k ranging from 3 to 9\nexport const sequentialColorSchemes = {\n    // single hue\n    blues: schemeBlues,\n    greens: schemeGreens,\n    greys: schemeGreys,\n    oranges: schemeOranges,\n    purples: schemePurples,\n    reds: schemeReds,\n    // multi hue\n    blue_green: schemeBuGn,\n    blue_purple: schemeBuPu,\n    green_blue: schemeGnBu,\n    orange_red: schemeOrRd,\n    purple_blue_green: schemePuBuGn,\n    purple_blue: schemePuBu,\n    purple_red: schemePuRd,\n    red_purple: schemeRdPu,\n    yellow_green_blue: schemeYlGnBu,\n    yellow_green: schemeYlGn,\n    yellow_orange_brown: schemeYlOrBr,\n    yellow_orange_red: schemeYlOrRd,\n}\n\nexport type SequentialColorSchemeId = keyof typeof sequentialColorSchemes\n\nexport const sequentialColorSchemeIds = Object.keys(\n    sequentialColorSchemes\n) as SequentialColorSchemeId[]\n\nexport const sequentialColorInterpolators = {\n    // single hue\n    blues: interpolateBlues,\n    greens: interpolateGreens,\n    greys: interpolateGreys,\n    oranges: interpolateOranges,\n    purples: interpolatePurples,\n    reds: interpolateReds,\n    // multi hue\n    turbo: interpolateTurbo,\n    viridis: interpolateViridis,\n    inferno: interpolateInferno,\n    magma: interpolateMagma,\n    plasma: interpolatePlasma,\n    cividis: interpolateCividis,\n    warm: interpolateWarm,\n    cool: interpolateCool,\n    cubehelixDefault: interpolateCubehelixDefault,\n    blue_green: interpolateBuGn,\n    blue_purple: interpolateBuPu,\n    green_blue: interpolateGnBu,\n    orange_red: interpolateOrRd,\n    purple_blue_green: interpolatePuBuGn,\n    purple_blue: interpolatePuBu,\n    purple_red: interpolatePuRd,\n    red_purple: interpolateRdPu,\n    yellow_green_blue: interpolateYlGnBu,\n    yellow_green: interpolateYlGn,\n    yellow_orange_brown: interpolateYlOrBr,\n    yellow_orange_red: interpolateYlOrRd,\n}\n\nexport type SequentialColorInterpolatorId = keyof typeof sequentialColorInterpolators\n","import {\n    categoricalColorSchemes,\n    categoricalColorSchemeIds,\n    CategoricalColorSchemeId,\n} from './categorical'\nimport { divergingColorSchemes, divergingColorSchemeIds, DivergingColorSchemeId } from './diverging'\nimport {\n    sequentialColorSchemes,\n    sequentialColorSchemeIds,\n    SequentialColorSchemeId,\n} from './sequential'\n\nexport const colorSchemes = {\n    ...categoricalColorSchemes,\n    ...divergingColorSchemes,\n    ...sequentialColorSchemes,\n}\n\nexport type ColorSchemeId =\n    | CategoricalColorSchemeId\n    | DivergingColorSchemeId\n    | SequentialColorSchemeId\n\nexport const colorSchemeIds = Object.keys(colorSchemes) as ColorSchemeId[]\n\nexport const isCategoricalColorScheme = (\n    scheme: ColorSchemeId\n): scheme is CategoricalColorSchemeId =>\n    categoricalColorSchemeIds.includes(scheme as CategoricalColorSchemeId)\n\nexport const isDivergingColorScheme = (scheme: ColorSchemeId): scheme is DivergingColorSchemeId =>\n    divergingColorSchemeIds.includes(scheme as DivergingColorSchemeId)\n\nexport const isSequentialColorScheme = (scheme: ColorSchemeId): scheme is SequentialColorSchemeId =>\n    sequentialColorSchemeIds.includes(scheme as SequentialColorSchemeId)\n","import { interpolateRainbow, interpolateSinebow } from 'd3-scale-chromatic'\n\nexport const cyclicalColorInterpolators = {\n    rainbow: interpolateRainbow,\n    sinebow: interpolateSinebow,\n}\n\nexport type CyclicalColorInterpolatorId = keyof typeof cyclicalColorInterpolators\n","import { divergingColorInterpolators, DivergingColorInterpolatorId } from './diverging'\nimport { sequentialColorInterpolators, SequentialColorInterpolatorId } from './sequential'\nimport { cyclicalColorInterpolators, CyclicalColorInterpolatorId } from './cyclical'\n\nexport const colorInterpolators = {\n    ...divergingColorInterpolators,\n    ...sequentialColorInterpolators,\n    ...cyclicalColorInterpolators,\n}\n\nexport type ColorInterpolatorId =\n    | DivergingColorInterpolatorId\n    | SequentialColorInterpolatorId\n    | CyclicalColorInterpolatorId\n\nexport const colorInterpolatorIds = Object.keys(colorInterpolators) as ColorInterpolatorId[]\n","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","import unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nexport default function _createForOfIteratorHelper(o) {\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (o = unsupportedIterableToArray(o))) {\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var it,\n      normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","import { useMemo } from 'react'\nimport { get, isPlainObject } from 'lodash'\nimport { rgb, RGBColor } from 'd3-color'\nimport { Theme } from '@nivo/core'\n\nexport type ColorModifierBrightness = ['brighter', number]\n\nexport type ColorModifierDarkness = ['darker', number]\n\nexport type ColorModifierOpacity = ['opacity', number]\n\nexport type ColorModifier = ColorModifierBrightness | ColorModifierDarkness | ColorModifierOpacity\n\nexport type ColorModifierFunction = (color: RGBColor) => RGBColor\n\nexport type InheritedColorConfigStaticColor = string\n\nexport type InheritedColorConfigCustomFunction<Datum> = (d: Datum) => string\n\nexport interface InheritedColorConfigFromTheme {\n    theme: string\n}\n\nexport interface InheritedColorConfigFromContext {\n    from: string\n    modifiers?: ColorModifier[]\n}\n\nexport type InheritedColorConfig<Datum> =\n    | InheritedColorConfigStaticColor\n    | InheritedColorConfigCustomFunction<Datum>\n    | InheritedColorConfigFromTheme\n    | InheritedColorConfigFromContext\n\nconst isInheritedColorConfigFromTheme = <Datum>(\n    config: InheritedColorConfig<Datum>\n): config is InheritedColorConfigFromTheme => {\n    return (config as InheritedColorConfigFromTheme).theme !== undefined\n}\n\nconst isInheritedColorConfigFromContext = <Datum>(\n    config: InheritedColorConfig<Datum>\n): config is InheritedColorConfigFromContext => {\n    return (config as InheritedColorConfigFromContext).from !== undefined\n}\n\n/**\n * Create a color generator for items which\n * might inherit from parent context,\n * for example labels, outlines…\n *\n * Support the following strategies:\n * - custom function\n * - color from theme\n * - color from parent, with optional color modifiers\n * - static color\n */\nexport const getInheritedColorGenerator = <Datum = any>(\n    config: InheritedColorConfig<Datum>,\n    theme?: Theme\n) => {\n    // user provided function\n    if (typeof config === 'function') {\n        return (datum: Datum) => config(datum)\n    }\n\n    if (isPlainObject(config)) {\n        // use color from theme\n        if (isInheritedColorConfigFromTheme(config)) {\n            if (theme === undefined) {\n                throw new Error(`Unable to use color from theme as no theme was provided`)\n            }\n\n            const themeColor = get(theme, config.theme)\n            if (themeColor === undefined) {\n                throw new Error(`Color from theme is undefined at path: '${config.theme}'`)\n            }\n\n            return () => themeColor\n        }\n\n        // use color from parent with optional color modifiers\n        if (isInheritedColorConfigFromContext(config)) {\n            const getColor = (d: Datum) => get(d, config.from)\n\n            if (Array.isArray(config.modifiers)) {\n                const modifiers: ColorModifierFunction[] = []\n                for (const modifier of config.modifiers) {\n                    const [modifierType, amount] = modifier\n                    if (modifierType === 'brighter') {\n                        modifiers.push(color => color.brighter(amount))\n                    } else if (modifierType === 'darker') {\n                        modifiers.push(color => color.darker(amount))\n                    } else if (modifierType === 'opacity') {\n                        modifiers.push(color => {\n                            color.opacity = amount\n\n                            return color\n                        })\n                    } else {\n                        throw new Error(\n                            `Invalid color modifier: '${modifierType}', must be one of: 'brighter', 'darker', 'opacity'`\n                        )\n                    }\n                }\n\n                if (modifiers.length === 0) return getColor\n\n                return (datum: Datum) =>\n                    modifiers\n                        .reduce((color, modify) => modify(color), rgb(getColor(datum)))\n                        .toString()\n            }\n\n            // no modifier\n            return getColor\n        }\n\n        throw new Error(\n            `Invalid color spec, you should either specify 'theme' or 'from' when using a config object`\n        )\n    }\n\n    // use provided color statically\n    return () => config as string\n}\n\nexport const useInheritedColor = <Datum = any>(\n    config: InheritedColorConfig<Datum>,\n    theme?: Theme\n) => useMemo(() => getInheritedColorGenerator<Datum>(config, theme), [config, theme])\n","import { spring, SpringHelperConfig } from 'react-motion'\nimport { rgb } from 'd3-color'\n\n/**\n * Decompose a color to be used with react-motion.\n *\n * @deprecated we should use `react-spring` which supports color interpolation natively.\n */\nexport const interpolateColor = (color: string, springConfig?: SpringHelperConfig) => {\n    const colorComponents = rgb(color)\n\n    if (!springConfig) {\n        return {\n            colorR: colorComponents.r,\n            colorG: colorComponents.g,\n            colorB: colorComponents.b,\n        }\n    }\n\n    const configWithPrecision = {\n        ...springConfig,\n        precision: 1,\n    }\n\n    return {\n        colorR: spring(colorComponents.r, configWithPrecision),\n        colorG: spring(colorComponents.g, configWithPrecision),\n        colorB: spring(colorComponents.b, configWithPrecision),\n    }\n}\n\n/**\n * Re-assemble interpolated color components,\n * should be used to assign a color after react-motion interpolation.\n *\n * @deprecated we should use `react-spring` which supports color interpolation natively.\n */\nexport const getInterpolatedColor = ({\n    colorR,\n    colorG,\n    colorB,\n}: {\n    colorR: number\n    colorG: number\n    colorB: number\n}) =>\n    `rgb(${Math.round(Math.max(colorR, 0))},${Math.round(Math.max(colorG, 0))},${Math.round(\n        Math.max(colorB, 0)\n    )})`\n","import { useMemo } from 'react'\nimport { get, isPlainObject } from 'lodash'\nimport { scaleOrdinal } from 'd3-scale'\nimport {\n    ColorSchemeId,\n    colorSchemes,\n    isCategoricalColorScheme,\n    isSequentialColorScheme,\n    isDivergingColorScheme,\n} from './schemes'\n\n/**\n * Static color.\n */\nexport type OrdinalColorScaleConfigStaticColor = string\n\n/**\n * User defined function, receiving the current datum.\n */\nexport type OrdinalColorScaleConfigCustomFunction<Datum> = (d: Datum) => string\n\n/**\n * Pre-defined color scheme.\n */\nexport interface OrdinalColorScaleConfigScheme {\n    scheme: ColorSchemeId\n    // size is useful for diverging & sequential colors,\n    // as they are array of array, whereas categorical colors\n    // are simple arrays, if the size isn't specified,\n    // the bigger array will be selected, this means the 11th\n    // for diverging colors and 9th for sequential ones.\n    size?: number\n}\n\n/**\n * User defined colors.\n */\nexport type OrdinalColorScaleConfigCustomColors = string[]\n\n/**\n * Get color from datum.\n */\nexport interface OrdinalColorScaleConfigDatumProperty {\n    // path to the color property\n    datum: string\n}\n\nexport type OrdinalColorScaleConfig<Datum = any> =\n    | OrdinalColorScaleConfigStaticColor\n    | OrdinalColorScaleConfigCustomFunction<Datum>\n    | OrdinalColorScaleConfigScheme\n    | OrdinalColorScaleConfigCustomColors\n    | OrdinalColorScaleConfigDatumProperty\n\nconst isOrdinalColorScaleConfigScheme = <Datum>(\n    config: OrdinalColorScaleConfig<Datum>\n): config is OrdinalColorScaleConfigScheme => {\n    return (config as OrdinalColorScaleConfigScheme).scheme !== undefined\n}\n\nconst isOrdinalColorScaleConfigDatumProperty = <Datum>(\n    config: OrdinalColorScaleConfig<Datum>\n): config is OrdinalColorScaleConfigDatumProperty => {\n    return (config as OrdinalColorScaleConfigDatumProperty).datum !== undefined\n}\n\nexport type DatumIdentityAccessor<Datum> = (datum: Datum) => string | number\n\nexport type OrdinalColorScale<Datum> = (d: Datum) => string\n\n/**\n * Compute an ordinal color scale\n */\nexport const getOrdinalColorScale = <Datum = any>(\n    config: OrdinalColorScaleConfig<Datum>,\n    identity?: string | DatumIdentityAccessor<Datum>\n): OrdinalColorScale<Datum> => {\n    // user defined function\n    if (typeof config === 'function') {\n        return config\n    }\n\n    // compute accessor to the datum identity\n    const getIdentity =\n        typeof identity === 'function' ? identity : (datum: Datum) => get(datum, identity as string)\n\n    // user defined color array\n    if (Array.isArray(config)) {\n        const scale = scaleOrdinal(config)\n        const generator = (datum: Datum) => scale(getIdentity(datum))\n        generator.scale = scale\n\n        return generator as OrdinalColorScale<Datum>\n    }\n\n    if (isPlainObject(config)) {\n        // use color from current datum\n        if (isOrdinalColorScaleConfigDatumProperty(config)) {\n            return (datum: Datum) => get(datum, config.datum)\n        }\n\n        // ordinal scale from predefined scheme\n        if (isOrdinalColorScaleConfigScheme(config)) {\n            // categorical color scheme\n            if (isCategoricalColorScheme(config.scheme)) {\n                const scale = scaleOrdinal(colorSchemes[config.scheme])\n                const generator = (datum: Datum) => scale(getIdentity(datum))\n                generator.scale = scale\n\n                return generator as OrdinalColorScale<Datum>\n            }\n\n            // Diverging color schemes support a size k ranging from 3 to 11\n            if (isDivergingColorScheme(config.scheme)) {\n                if (config.size !== undefined && (config.size < 3 || config.size > 11)) {\n                    throw new Error(\n                        `Invalid size '${config.size}' for diverging color scheme '${config.scheme}', must be between 3~11`\n                    )\n                }\n\n                const scale = scaleOrdinal(colorSchemes[config.scheme][config.size || 11])\n                const generator = (d: Datum) => scale(getIdentity(d))\n                generator.scale = scale\n\n                return generator as OrdinalColorScale<Datum>\n            }\n\n            // Sequential, single-hue color schemes support a size k ranging from 3 to 9.\n            // Sequential, multi-hue color schemes support a size k ranging from 3 to 9.\n            if (isSequentialColorScheme(config.scheme)) {\n                if (config.size !== undefined && (config.size < 3 || config.size > 9)) {\n                    throw new Error(\n                        `Invalid size '${config.size}' for sequential color scheme '${config.scheme}', must be between 3~9`\n                    )\n                }\n\n                const scale = scaleOrdinal(colorSchemes[config.scheme][config.size || 9])\n                const generator = (d: Datum) => scale(getIdentity(d))\n                generator.scale = scale\n\n                return generator as OrdinalColorScale<Datum>\n            }\n        }\n\n        throw new Error(\n            `Invalid colors, when using an object, you should either pass a 'datum' or a 'scheme' property`\n        )\n    }\n\n    // static color\n    return () => config as string\n}\n\nexport const useOrdinalColorScale = <Datum = any>(\n    config: OrdinalColorScaleConfig<Datum>,\n    identity: string | DatumIdentityAccessor<Datum>\n) => useMemo(() => getOrdinalColorScale<Datum>(config, identity), [config, identity])\n","import PropTypes from 'prop-types'\nimport { colorSchemeIds } from './schemes'\n\nexport const ordinalColorsPropType = PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.arrayOf(PropTypes.string),\n    PropTypes.shape({\n        scheme: PropTypes.oneOf(colorSchemeIds).isRequired,\n        size: PropTypes.number,\n    }),\n    PropTypes.shape({\n        datum: PropTypes.string.isRequired,\n    }),\n    PropTypes.string,\n])\n\nexport const colorPropertyAccessorPropType = PropTypes.oneOfType([PropTypes.func, PropTypes.string])\n\nexport const inheritedColorPropType = PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.func,\n    PropTypes.shape({\n        theme: PropTypes.string.isRequired,\n    }),\n    PropTypes.shape({\n        from: PropTypes.string.isRequired,\n        modifiers: PropTypes.arrayOf(PropTypes.array),\n    }),\n])\n"]},"metadata":{},"sourceType":"module"}