{"ast":null,"code":"import { LOADING, LOGIN_SUCCESS, LOGIN_ERROR } from \"../../helpers/constants\";\nimport History from \"../../utils/history\";\nimport { AuthAxios } from \"../../helpers/AuthAxios\";\nimport { identity } from '../../context/actions/dashboard';\nimport { useContext } from 'react';\nimport { GlobalContext } from \"../../context/Provider\";\nexport const login = ({\n  email,\n  password\n}) => {\n  var _s = $RefreshSig$();\n\n  return _s(dispatch => {\n    _s();\n\n    console.log(email, password);\n    const {\n      time,\n      dashboardDispatch,\n      dashboardState\n    } = useContext(GlobalContext);\n    AuthAxios.post(\"/auth\", JSON.stringify({\n      username: email,\n      password: password\n    })).then(res => {\n      console.log(\"response login\", res);\n      localStorage.setItem('token', res.data.access_token);\n      dispatch({\n        type: LOGIN_SUCCESS,\n        payload: res.data\n      });\n      History.push('/dashboard');\n    }).catch(err => {\n      console.log(\"error\", err);\n      dispatch({\n        type: LOGIN_ERROR,\n        payload: err.response ? err.response.data : \"COULD NOT CONNECT\"\n      });\n    });\n  }, \"8D3lN85DpEoS6WLsDVMe502XS4A=\");\n};\nexport const logout = () => {\n  // console.log(email, password)\n  window.localStorage.clear();\n  History.push('/login');\n  console.log(\"there??\", localStorage.token);\n};\nexport const signup = ({\n  email,\n  brand,\n  keywords,\n  password\n}) => dispatch => {\n  dispatch({\n    type: LOADING\n  });\n  AuthAxios.post(\"/signup\", JSON.stringify({\n    username: email,\n    brand: brand,\n    keywords: keywords,\n    password: password\n  })).then(res => {\n    console.log(\"succcesss bitccchh!!!\", res);\n  }).catch(err => {\n    console.log(\"error!!!\", err);\n    dispatch({\n      type: LOGIN_ERROR,\n      payload: err.response ? err.response.data : \"COULD NOT CONNECT\"\n    });\n  });\n};","map":{"version":3,"sources":["/home/riya/social-monitoring/src/context/actions/auth.js"],"names":["LOADING","LOGIN_SUCCESS","LOGIN_ERROR","History","AuthAxios","identity","useContext","GlobalContext","login","email","password","dispatch","console","log","time","dashboardDispatch","dashboardState","post","JSON","stringify","username","then","res","localStorage","setItem","data","access_token","type","payload","push","catch","err","response","logout","window","clear","token","signup","brand","keywords"],"mappings":"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","sourcesContent":["import {\n  LOADING,\n  LOGIN_SUCCESS,\n  LOGIN_ERROR,\n} from \"../../helpers/constants\";\nimport History from \"../../utils/history\";\nimport { AuthAxios } from \"../../helpers/AuthAxios\"\nimport { identity } from '../../context/actions/dashboard'\nimport { useContext } from 'react';\nimport { GlobalContext } from \"../../context/Provider\"\n\n\n\nexport const login = ({ email, password }) => (dispatch) => {\n  console.log(email, password)\n  const { time, dashboardDispatch, dashboardState } = useContext(GlobalContext)\n\n\n  AuthAxios.post(\"/auth\", JSON.stringify({\n    username: email,\n    password: password\n  }))\n    .then((res) => {\n      console.log(\"response login\", res)\n      localStorage.setItem('token', res.data.access_token)\n      dispatch({\n        type: LOGIN_SUCCESS,\n        payload: res.data,\n      });\n      History.push('/dashboard')\n    })\n    .catch((err) => {\n      console.log(\"error\", err)\n      dispatch({\n        type: LOGIN_ERROR,\n        payload: err.response ? err.response.data : \"COULD NOT CONNECT\",\n      });\n    })\n}\n\nexport const logout = () => {\n  // console.log(email, password)\n  window.localStorage.clear();\n  History.push('/login')\n  console.log(\"there??\", localStorage.token)\n}\n\n\nexport const signup = ({ email, brand, keywords, password }) => (dispatch) => {\n  dispatch({\n    type: LOADING,\n  });\n\n  AuthAxios.post(\"/signup\", JSON.stringify({\n    username: email,\n    brand: brand,\n    keywords: keywords,\n    password: password,\n  }))\n    .then((res) => {\n      console.log(\"succcesss bitccchh!!!\", res)\n    })\n    .catch((err) => {\n      console.log(\"error!!!\", err)\n      dispatch({\n        type: LOGIN_ERROR,\n        payload: err.response ? err.response.data : \"COULD NOT CONNECT\",\n      });\n    })\n}\n\n"]},"metadata":{},"sourceType":"module"}